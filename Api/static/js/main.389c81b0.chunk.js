(this["webpackJsonpcarta-laboral-app"]=this["webpackJsonpcarta-laboral-app"]||[]).push([[0],{312:function(e,t,a){},313:function(e,t,a){},315:function(e,t,a){},358:function(e,t,a){},359:function(e,t,a){},360:function(e,t,a){},361:function(e,t,a){},368:function(e,t,a){},369:function(e,t,a){},370:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t){},377:function(e,t){},407:function(e,t){},408:function(e,t){},517:function(e,t){},688:function(e,t,a){},689:function(e,t,a){},694:function(e,t,a){"use strict";a.r(t);var c=a(2),s=a.n(c),n=a(33),i=a.n(n),r=(a(312),a(313),a(14)),l=a(13),o=a(16),d=a(15),u=a(104),j=a(22),m=a(11),h=a.n(m),b=a(41),f=(a(315),a(9)),v=a.n(f),x={url:"http://104.248.54.46:3900/metrolinea/",ws:"ws://104.248.54.46:3900"},O=a.p+"static/media/metrolinea-logo.16f6c7f8.png",p=a(27),g=a(1),N=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).userNameRef=s.a.createRef(),c.userMailRef=s.a.createRef(),c.userIdentificationRef=s.a.createRef(),c.userTelephoneRef=s.a.createRef(),c.userUrlStampRef=s.a.createRef(),c.userContentRef=s.a.createRef(),c.payroll=s.a.createRef(),c.contractor=s.a.createRef(),c.fileChange=function(e){var t={stamp_url:e.target.files[0]},a=new FormData;a.append("file",t.stamp_url),c.setState({stamp:a})},c.connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.setSocket=function(e){c.socket.emit("set-unchecked-news",e.data.data),c.socket.on("get-unchecked-news",(function(e){c.setState({forms:e,status:"success"})}))},c.getForms=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(c.url+"get-unchecked-forms").then((function(e){c.setSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),c.sendForm=function(e){e.preventDefault();var t={name:c.userNameRef.current.value,email:c.userMailRef.current.value,identification:c.userIdentificationRef.current.value,telephone:c.userTelephoneRef.current.value};c.setState({user:t})},c.saveForm=function(){var e=Object(b.a)(h.a.mark((function e(t){var a,s;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:c.userNameRef.current.value,email:c.userMailRef.current.value,identification:c.userIdentificationRef.current.value,telephone:c.userTelephoneRef.current.value},c.setState({user:a}),s={content:c.userContentRef.current.value,user_id:0,stamp_id:0,request_type:c.payroll.current.checked?1:0},e.next=7,v.a.post(c.url+"create-user",c.state.user).then((function(e){e?(s.user_id=e.data.data.insertId,v.a.post(c.url+"upload-stamp",c.state.stamp).then(function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a={stamp_url:t.data.data},e.next=4,v.a.post(c.url+"create-stamp",a).then(function(){var e=Object(b.a)(h.a.mark((function e(t){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return s.stamp_id=t.data.data.insertId,c.setState({form:s}),e.next=5,v.a.post(c.url+"create-form",c.state.form).then((function(e){e?(c.getForms(),c.socket.emit("new-form",c.state.form),c.setState({status:"succes"})):c.setState({status:"failed"})}));case 5:e.next=8;break;case 7:c.setState({status:"failed"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=7;break;case 6:c.setState({status:"failed"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):c.setState({status:"failed"})}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.selectContractOrPayroll=function(e){},c.url=x.url,c.ws=x.ws,c.socket=null,c.state={user:{name:"",email:"",identification:"",telephone:""},stamp:null,form:{content:"",stamp_id:0,user_id:0},status:null,payroll:!1,contract:!1},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){var e=this;return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"form-content-container-main",children:Object(g.jsxs)("form",{className:"form-main",onSubmit:this.saveForm,onChange:this.sendForm,children:[Object(g.jsx)("div",{className:"form-group",children:Object(g.jsx)("div",{className:"form-logo",children:Object(g.jsx)("img",{className:"login-logo",src:O,alt:"imagen de metrolinea"})})}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"nombre",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Nombre del solicitante"})}),Object(g.jsx)("input",{className:"form-input",type:"text",name:"nombre",ref:this.userNameRef})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"mail",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Correo"})}),Object(g.jsx)("input",{className:"form-input",type:"text",name:"mail",ref:this.userMailRef})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"identification",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Identificaci\xf3n"})}),Object(g.jsx)("input",{className:"form-input",type:"identification",name:"identification",ref:this.userIdentificationRef})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"telephone",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Telefono"})}),Object(g.jsx)("input",{className:"form-input",type:"telephone",name:"telephone",ref:this.userTelephoneRef})]}),Object(g.jsxs)("div",{className:"form-group form-text-area",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"content",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Descripci\xf3n de la solicitud"})}),Object(g.jsx)("textarea",{className:"text-area-input",type:"text-area",name:"content",ref:this.userContentRef})]}),Object(g.jsxs)("div",{className:"form-group",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"fiel0",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Adjuntar estampilla"})}),Object(g.jsx)("input",{id:"archivo",className:"form-input-file",type:"file",name:"file0",ref:this.userUrlStampRef,onChange:this.fileChange}),Object(g.jsx)("label",{className:"file-input",htmlFor:"archivo",children:"Examinar"})]}),Object(g.jsxs)("div",{className:"form-group-radio",children:[Object(g.jsx)("div",{className:"form-label",htmlFor:"requestType",children:Object(g.jsx)("div",{className:"text-radio-label absolute-center",children:"Tipo de petici\xf3n:"})}),Object(g.jsxs)("div",{className:"row no-gutters select-type align-items-center justify-content-center",children:[Object(g.jsx)("div",{className:"col-lg-12 radio-input",children:Object(g.jsxs)("label",{className:"container-radio",children:["Carta laboral n\xf3mina",Object(g.jsx)("input",{type:"radio",className:"form-input-check",checked:!0,name:"requestType",ref:this.payroll,onChange:function(t){t.preventDefault(),e.payroll.current.checked="on"===t.currentTarget.value}}),Object(g.jsx)("span",{className:"checkmark"})]})}),Object(g.jsx)("div",{className:"col-lg-12 radio-input",children:Object(g.jsxs)("label",{className:"container-radio",children:["Carta laboral contratista",Object(g.jsx)("input",{type:"radio",className:"form-input-check",name:"requestType",ref:this.contractor,onChange:function(t){t.preventDefault(),e.contractor.current.checked="on"===t.currentTarget.value}}),Object(g.jsx)("span",{className:"checkmark"})]})})]})]}),Object(g.jsx)("input",{type:"submit",value:"Enviar"})]})})})}}]),a}(c.Component),y=(a(358),a(359),a(360),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).onClickCard=function(){c.props.clickCard(c.props.new)},c.url=x.url,c.state={form:c.props.new},c}return Object(l.a)(a,[{key:"render",value:function(){var e=null,t=!0;return 1===this.state.form.state?e=!0:0===this.state.form.state?e=!1:t=!1,Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"item-card-container",children:Object(g.jsxs)("div",{className:"item-card",onClick:this.onClickCard,children:[Object(g.jsxs)("div",{className:"state-container",children:[e&&t&&Object(g.jsx)("div",{className:"label-mark certified"}),!e&&t&&Object(g.jsx)("div",{className:"label-mark denied"}),!t&&Object(g.jsx)("div",{className:"label-mark unchecked"})]}),Object(g.jsx)("div",{className:"item-container col-lg-auto",children:Object(g.jsx)("div",{className:"item-data absolute-center item-dark-data",children:this.state.form.name})}),Object(g.jsx)("div",{className:"item-container dark-item col-lg-auto",children:Object(g.jsx)("div",{className:"item-data absolute-center",children:this.state.form.identification})}),Object(g.jsx)("div",{className:"item-container col-lg-auto",children:this.state.form.request_type?Object(g.jsx)("div",{className:"item-data absolute-center",children:"Nomina"}):Object(g.jsx)("div",{className:"item-data absolute-center",children:"Contratista"})})]})})})}}]),a}(c.Component)),k=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).setQuantity=function(e){c.props.quantity(e.length)},c.connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.setSocket=function(e){c.socket.emit("set-unchecked-news",e.data.data),c.socket.on("get-unchecked-news",(function(e){c.setState({forms:e,status:"success"}),c.setQuantity(e)}))},c.viewDetails=function(e){var t="/new-details/"+e.id;c.history.push(t)},c.getForms=function(){v.a.get(c.url+"get-unchecked-forms").then((function(e){c.setSocket(e)}))},c.url=x.url,c.history=c.props.history,c.ws=x.ws,c.socket=null,c.state={forms:{},status:null},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket(),this.getForms()}},{key:"render",value:function(){var e=this;if(this.state.forms.length>=1){var t=this.state.forms.map((function(t,a){return Object(g.jsx)(y,{new:t,clickCard:e.viewDetails},a)}));return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"formulario absolute-center",children:t})})}return 0===this.state.forms.length&&"success"===this.state.status?Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"formulario absolute-center",children:Object(g.jsx)("h1",{className:"absolute-center",children:" no hay formularios pendientes"})})}):Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"formulario absolute-center",children:Object(g.jsx)("h1",{className:"absolute-center",children:" no hay Formularios"})})})}}]),a}(c.Component),w=a(49),S=(a(361),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).setQuantity=function(e){var t=[],a=[];e.map((function(e){1===e.state?t.push(e):a.push(e)}));var s={aproved:t,denied:a};c.props.quantity(s)},c.connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.setSocket=function(e){c.socket.emit("set-checked-news",e.data.data),c.socket.on("get-checked-news",(function(e){c.setState({forms:e,status:"success"}),c.setQuantity(e)}))},c.viewDetails=function(e){var t="/new-details/"+e.id;c.history.push(t)},c.getCheckedForms=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(c.url+"get-checked-forms").then((function(e){c.setSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),c.url=x.url,c.ws=x.ws,c.socket=null,c.history=c.props.history,c.viewDetails=c.viewDetails.bind(Object(w.a)(c)),c.state={forms:{},status:null},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket(),this.getCheckedForms()}},{key:"render",value:function(){var e=this;if(this.state.forms.length>=1){var t=this.state.forms.map((function(t,a){return Object(g.jsx)(y,{new:t,clickCard:e.viewDetails},a)}));return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"formulario absolute-center",children:t})})}return 0===this.state.forms.length&&this.state.status,Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"formulario absolute-center",children:Object(g.jsx)("h1",{className:"absolute-center",children:" no hay Formularios"})})})}}]),a}(c.Component)),C=a(170),R=(a(362),a(711)),F=a(21),D=a.n(F),T=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).getUser=function(e){v.a.get(c.url+"get-admin/"+e).then((function(e){c.setState({user:e.data.data})}))},c.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(c.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?D.a.fire({title:"Para acceder a esta funcionalidad debes iniciar sesi\xf3n",icon:"info"}).then((function(){c.props.history.push("/login")})):(c.getUser(e.data.data.id),c.connectSocket())}),(function(e){D.a.fire({title:"Para acceder a esta funcionalidad debes iniciar sesi\xf3n",icon:"info"}).then((function(){c.props.history.push("/login")}))}))},c.connectSocket=function(){c.socket=Object(p.io)(c.ws),c.socket.on("get-news",(function(e){c.setState({toast:e}),c.notify()}))},c.changeState=function(e){var t=e.currentTarget,a=document.querySelector(".btn-nav.active"),c=document.querySelector(".active.content-news"),s=document.querySelector(".inactive.content-news");"active"!==t.classList[1]&&("btn-nav-news"===t.classList[0]?(t.className="btn-nav-news active btn-nav",a.className="btn-nav-checked btn-nav"):(t.className="btn-nav-checked active btn-nav",a.className="btn-nav-news btn-nav"),c.className="content-news inactive",s.className="content-news active")},c.notify=function(){C.b.info("\ud83e\udd84 Wow so easy! 2",{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},c.getUncheckedLength=function(e){c.setState({uncheckedLength:e})},c.getCheckedLength=function(e){c.setState({checkedDeniedLength:e.denied.length,checkedAprovedLength:e.aproved.length})},c.logOut=function(){localStorage.removeItem("userSesion"),D.a.fire({title:"Haz cerrado la sesi\xf3n "+c.state.user.name,icon:"info"}).then((function(){c.props.history.push("/")}))},c.url=x.url,c.ws=x.ws,c.socket=null,c.state={toast:null,uncheckedLength:"0",checkedAprovedLength:"0",checkedDeniedLength:"0",user:{}},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.veryfyUserSesion()}},{key:"render",value:function(){return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"row align-items-center justify-content-center news-container",children:Object(g.jsxs)("div",{className:"no-gutters content-container-news",children:[Object(g.jsxs)("div",{className:"header-menu",children:[Object(g.jsx)("div",{className:"btn-nav-news active btn-nav",onClick:this.changeState,children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Novedades"})}),Object(g.jsx)("div",{className:"btn-nav-checked inactive btn-nav",onClick:this.changeState,children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Historial"})}),Object(g.jsx)("div",{className:"btn-nav-close log-out",onClick:this.logOut,children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Cerrar sesi\xf3n"})})]}),Object(g.jsxs)("div",{className:"news-content",children:[Object(g.jsxs)("div",{className:"badge-container",children:[Object(g.jsxs)("div",{className:"badge-content",children:[Object(g.jsx)("div",{className:"badge-label absolute-center",children:"Novedades:"}),Object(g.jsx)(R.a,{className:"unchecked",color:"primary",badgeContent:this.state.uncheckedLength})]}),Object(g.jsxs)("div",{className:"badge-content",children:[Object(g.jsx)("div",{className:"badge-label absolute-center",children:"Certificadas:"}),Object(g.jsx)(R.a,{className:"aproved",badgeContent:this.state.checkedAprovedLength})]}),Object(g.jsxs)("div",{className:"badge-content",children:[Object(g.jsx)("div",{className:"badge-label absolute-center",children:"Rechazadas:"}),Object(g.jsx)(R.a,{className:"denied",color:"secondary",badgeContent:this.state.checkedDeniedLength})]})]}),Object(g.jsx)("div",{className:"unchecked-forms active content-news",children:Object(g.jsx)(k,{forms:this.state.forms,status:this.state.status,history:this.props.history,quantity:this.getUncheckedLength})}),Object(g.jsx)("div",{className:"checked-forms inactive content-news",children:Object(g.jsx)(S,{forms:this.state.checkedForms,status:this.state.statusChecked,history:this.props.history,quantity:this.getCheckedLength})})]}),Object(g.jsx)("div",{className:"toast-container",children:Object(g.jsx)(C.a,{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})})]})})})}}]),a}(c.Component),I=(a(368),a(56)),P=(a(369),a(370),a(306)),B=a(126),E=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).contractNumberRef=s.a.createRef(),c.contractYearRef=s.a.createRef(),c.setContractNumber=function(){},c.selectContract=function(e,t){var a=document.querySelectorAll(".item-list");Array.from(a).map((function(e,t){e.className=c.state.active}));var s=e.currentTarget;s.className=s.className+" active",c.setState({selectedContracts:t})},c.validateRelation=function(){},c.addContract=function(){},c.removeContract=function(e){var t=c.state.contratos;t.push(e),c.setState({contratos:t})},c.overLayRef=s.a.createRef(),c.url=x.url,c.relatedContracts=c.props.contractsRelated,c.state={contratos:[],selectedContracts:{},userId:null,active:"item-list row no-gutters align-items-center justify-content-center",showDetail:!1},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({contratos:this.relatedContracts})}},{key:"showObject",value:function(e,t){this.setState({showDetail:!0})}},{key:"render",value:function(){var e=this,t=function(e){return Object(g.jsxs)(B.a,{transition:!1,id:"popover-basic",children:[Object(g.jsx)(B.a.Title,{as:"h3",children:"Objeto del contrato"}),Object(g.jsx)(B.a.Content,{children:e.object})]})};return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"container-search-contract",children:Object(g.jsx)("div",{className:"search-row row h-100 no-gutters",children:Object(g.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(g.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.length>0?Object(g.jsxs)("div",{className:"list-container-search",children:[Object(g.jsx)("div",{className:"list-label",children:"Resultado de b\xfasqueda"}),Object(g.jsxs)("div",{className:"item-list-header row no-gutters align-items-center justify-content-center",children:[Object(g.jsx)("div",{className:"column-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:"N\xb0"})}),Object(g.jsx)("div",{className:"column-container col-lg-3",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:"A\xf1o"})}),Object(g.jsx)("div",{className:"column-container col-lg-7",children:Object(g.jsx)("div",{className:"column-data  absolute-center",children:"Objeto"})})]}),Object(g.jsx)("div",{className:"list",children:this.state.contratos.map((function(a,c){return Object(g.jsxs)("div",{className:e.state.active,onClick:function(t){e.selectContract(t,a)},children:[Object(g.jsx)("div",{className:"column-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:a.contract_number})}),Object(g.jsx)("div",{className:"column-container col-lg-3",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:a.year})}),Object(g.jsx)("div",{className:"column-container col-lg-7",children:Object(g.jsx)("div",{onMouseOver:function(t){e.showObject(t,a.object)},children:Object(g.jsx)(P.a,{transition:!1,ref:e.overLayRef,placement:"right",overlay:t(a),children:Object(g.jsx)("div",{variant:"success",className:"column-data elipsis absolute-center",children:a.object})})})})]},c)}))})]}):Object(g.jsxs)("div",{className:"list-container-search",children:[Object(g.jsx)("div",{className:"list-label",children:"Resultado de b\xfasqueda"}),Object(g.jsx)("div",{className:"list",children:Object(g.jsx)("h2",{className:"absolute-center",children:"No hay resultados"})})]})}),Object(g.jsx)("div",{className:"row h-30 align-items-center justify-content-center no-gutters",children:Object(g.jsx)("div",{className:"item-container col-lg-auto",children:Object(g.jsx)("div",{className:"btn-add-contract",onClick:function(){var t="";D.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Elige el tipo de contrato</div></div>',denyButtonColor:"#0A9B91",confirmButtonText:"Ejecuta",denyButtonText:"Suscribi\xf3",allowOutsideClick:!1,showDenyButton:!0,showCloseButton:!0}).then((function(a){if(a.isConfirmed)t="Ejecuta",(c=e.state.contratos).map((function(t,a){t.id===e.state.selectedContracts.id&&(c.splice(a,1),e.setState({contratos:c}))})),e.props.add(e.state.selectedContracts,t);else if(a.isDenied){var c;t="Suscribio",(c=e.state.contratos).map((function(t,a){t.id===e.state.selectedContracts.id&&(c.splice(a,1),e.setState({contratos:c}))})),e.props.add(e.state.selectedContracts,t)}}))},children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Agregar contrato"})})})})]})})})})}}]),a}(c.Component),A=a(88),L=a(108),U=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).contractNumberRef=s.a.createRef(),c.contractYearRef=s.a.createRef(),c.setContractNumber=function(){},c.closeAddContract=function(){c.setState({addContract:!1})},c.addContract=function(e,t){var a={ejecuta:c.contratosEjecuta,suscribio:c.contratosSuscritos};"Suscribio"===t?(c.contratosSuscritos.push(e),c.setState({contratos:a})):(c.contratosEjecuta.push(e),c.setState({contratos:a}))},c.removeContract=function(e,t){var a=c.state.contratos;0===t?(a.ejecuta.map((function(t,s){t.id===e.id&&(a.ejecuta.splice(s,1),c.setState({contratos:a}))})),c.props.remove(e)):(a.suscribio.map((function(t,s){t.id===e.id&&(a.suscribio.splice(s,1),c.setState({contratos:a}))})),c.props.remove(e))},c.addDetail=function(e){},c.url=x.url,c.contratosSuscritos=[],c.contratosEjecuta=[],c.state={contratos:{ejecuta:[],suscribio:[]},selectedContracts:[],userId:null,addContract:!1,diffx:0,diffy:0,draggingState:!1,styles:{left:50,top:50},stylesWindow:{},arrivalData:{}},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({arrivalData:this.props.contractData})}},{key:"render",value:function(){var e=this;return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsxs)("div",{className:"content-createPDF",children:[Object(g.jsx)("div",{className:"row h-90 no-gutters",children:Object(g.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(g.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.ejecuta.length>0?Object(g.jsxs)("div",{className:"list-container ejecuta-list",children:[Object(g.jsx)("div",{className:"list-label",children:"Ejecuta"}),Object(g.jsx)("div",{className:"list",children:this.state.contratos.ejecuta.map((function(t,a){return Object(g.jsxs)("div",{className:"item-list-added row no-gutters align-items-center justify-content-center",children:[Object(g.jsx)("div",{className:"colum-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:t.contract_number})}),Object(g.jsx)("div",{className:"colum-container col-lg-2",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:t.year})}),Object(g.jsx)("div",{className:"colum-container col-lg-6",children:Object(g.jsx)("div",{className:"column-data elipsis absolute-center",children:t.object})}),Object(g.jsx)("div",{className:"colum-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:Object(g.jsx)(A.a,{variant:"edit",onClick:function(){return e.addDetail(t)},children:Object(g.jsx)(L.a,{className:"absolute-center"})})})}),Object(g.jsx)("div",{className:"colum-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:Object(g.jsx)(A.a,{variant:"danger",onClick:function(){return e.removeContract(t,0)},children:Object(g.jsx)(L.b,{className:"absolute-center"})})})})]},a)}))})]}):Object(g.jsxs)("div",{className:"list-container ejecuta-list",children:[Object(g.jsx)("div",{className:"list-label",children:"Ejecuta"}),Object(g.jsx)("div",{className:"list",children:Object(g.jsx)("h2",{className:"list-label absolute-center",children:"No hay resultados"})})]})}),Object(g.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.suscribio.length>0?Object(g.jsxs)("div",{className:"list-container suscribio-list",children:[Object(g.jsx)("div",{className:"list-label",children:"Suscribi\xf3"}),Object(g.jsx)("div",{className:"list",children:this.state.contratos.suscribio.map((function(t,a){return Object(g.jsxs)("div",{className:"item-list-added row no-gutters align-items-center justify-content-center",children:[Object(g.jsx)("div",{className:"colum-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:t.contract_number})}),Object(g.jsx)("div",{className:"colum-container col-lg-2",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:t.year})}),Object(g.jsx)("div",{className:"colum-container col-lg-5",children:Object(g.jsx)("div",{className:"column-data elipsis absolute-center",children:t.object})}),Object(g.jsx)("div",{className:"colum-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:Object(g.jsx)(A.a,{variant:"edit",onClick:function(){return e.addDetail(t)},children:Object(g.jsx)(L.a,{})})})}),Object(g.jsx)("div",{className:"colum-container col-lg-1",children:Object(g.jsx)("div",{className:"column-data absolute-center",children:Object(g.jsx)(A.a,{variant:"danger",onClick:function(){return e.removeContract(t,1)},children:Object(g.jsx)(L.b,{})})})})]},a)}))})]}):Object(g.jsxs)("div",{className:"list-container suscribio-list",children:[Object(g.jsx)("div",{className:"list-label",children:"Suscribi\xf3"}),Object(g.jsx)("div",{className:"list",children:Object(g.jsx)("h2",{className:"list-label absolute-center",children:"No hay resultados"})})]})})]})}),Object(g.jsx)("div",{className:"prev-container h-10",children:Object(g.jsx)("div",{className:"btn-prev",onClick:this.props.prev,children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Previsualizar"})})})]})})}}]),a}(c.Component),M=(a(372),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).setContractNumber=function(){},c.closeAddContract=function(){c.setState({addContract:!1})},c.openDragWindow=function(e){c.setState({addContract:!0})},c.url=x.url,c.dragStart=c.dragStart.bind(Object(w.a)(c)),c.dragging=c.dragging.bind(Object(w.a)(c)),c.dragOver=c.dragOver.bind(Object(w.a)(c)),c.state={selectedContracts:[],userId:null,addContract:!1,diffx:0,diffy:0,draggingState:!1,styles:{left:50,top:50},stylesWindow:{}},c}return Object(l.a)(a,[{key:"dragStart",value:function(e){this.setState({diffx:e.screenX-e.currentTarget.getBoundingClientRect().left,diffy:e.screenY-e.currentTarget.getBoundingClientRect().top,draggingState:!0})}},{key:"dragOver",value:function(){this.setState({draggingState:!1})}},{key:"dragging",value:function(e){if(this.state.draggingState){var t={left:e.screenX-this.state.diffx,top:e.screenY-this.state.diffy};this.setState({styles:t}),console.log(t)}}},{key:"render",value:function(){return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsxs)("div",{className:"content-Payroll",children:[Object(g.jsx)("div",{className:"row h-90 no-gutters",children:Object(g.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(g.jsx)("div",{className:"row h-20 no-gutters",children:Object(g.jsx)("div",{className:"item-container col-lg-auto"})}),Object(g.jsx)("div",{className:"row h-50 no-gutters"}),Object(g.jsx)("div",{className:"row h-50 no-gutters"})]})}),Object(g.jsx)("div",{className:"prev-container h-10",children:Object(g.jsx)("div",{className:"btn-prev",onClick:this.props.prev,children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Previsualizar"})})})]})})}}]),a}(c.Component)),q=(a(373),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.getUser=function(e){v.a.get(c.url+"get-admin/"+e).then((function(e){c.setState({user:e.data.data})}))},c.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(c.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?D.a.fire({title:"Para acceder a esta funcionalidad debes iniciar sesi\xf3n",icon:"info"}).then((function(){c.props.history.push("/login")})):(c.getUser(e.data.data.id),c.connectSocket())}),(function(e){D.a.fire({title:"Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar",icon:"info"})}))},c.getContractor=function(){v.a.get(c.url+"get-contractor/"+c.props.contractorId).then((function(e){c.setState({contractor:e.data.data},(function(){c.contractorData=c.state.contractor})),v.a.get(c.url+"get-contracts/"+c.state.contractor.id).then((function(e){c.setState({relatedContracts:e.data.data,loadedContracts:!0})}))}))},c.addContract=function(e,t){c.props.pdfData(e,t)},c.removeContract=function(e){c.passRemove.current.removeContract(e)},c.url=x.url,c.ws=x.ws,c.socket=null,c.contractorData=null,c.passRemove=s.a.createRef(),c.state={user:{name:"",pass:""},status:null,contractor:{},relatedContracts:[],loadedContracts:!1},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.veryfyUserSesion(),this.getContractor()}},{key:"render",value:function(){return Object(g.jsxs)(s.a.Fragment,{children:[Object(g.jsx)("div",{className:"row content-user-data no-gutters",children:Object(g.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(g.jsx)("div",{className:"row h-10 align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del contratista"})}),Object(g.jsxs)("div",{className:"row h-25 align-items-center",children:[Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Nombre"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.name})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Correo"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.email})})]})]}),Object(g.jsxs)("div",{className:"row h-25 align-items-center",children:[Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"identification"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.identification})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"telephone"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.telephone})})]})]})]})}),Object(g.jsx)("div",{className:"row contract-list-container no-gutters",children:this.state.loadedContracts&&Object(g.jsx)(E,{ref:this.passRemove,add:this.addContract,contractsRelated:this.state.relatedContracts})})]})}}]),a}(c.Component)),W=(a(374),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.getUser=function(e){v.a.get(c.url+"get-admin/"+e).then((function(e){c.setState({user:e.data.data})}))},c.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(c.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?D.a.fire({title:"Para acceder a esta funcionalidad debes iniciar sesi\xf3n",icon:"info"}).then((function(){c.props.history.push("/login")})):(c.getUser(e.data.data.id),c.connectSocket())}),(function(e){D.a.fire({title:"Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar",icon:"info"})}))},c.getPayroll=function(){v.a.get(c.url+"get-payroll/"+c.props.payrollId).then((function(e){c.setState({payroll:e.data.data}),v.a.get(c.url+"get-dependency/"+c.state.payroll.dependency).then((function(e){c.setState({dependencia:e.data.data.name})}))}))},c.url=x.url,c.ws=x.ws,c.socket=null,c.state={user:{name:"",pass:""},status:null,payroll:{},dependencia:""},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.veryfyUserSesion(),this.getPayroll()}},{key:"render",value:function(){return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"row content-user-data no-gutters",children:Object(g.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(g.jsx)("div",{className:"row h-10 align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n nomina"})}),Object(g.jsxs)("div",{className:"row h-60 align-items-center",children:[Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Nombre"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.name})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Apellido"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsxs)("div",{className:"text-data absolute-center",children:[this.state.payroll.first_surname," ",this.state.payroll.second_surname]})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"identification"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.identification})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Expedicion"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.expedition_place})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Salario"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.salary})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Dependencia"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"text-data absolute-center",children:this.state.dependencia})})]})]})]})})})}}]),a}(c.Component)),z=a(19),_=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).newStateRef=s.a.createRef(),c.prevPDF=function(){var e=c.contractorRef.current.contractorData;c.setState({previewPDF:!0},(function(){var t=function(){return Object(g.jsx)(z.PDFViewer,{children:Object(g.jsx)(z.Document,{children:Object(g.jsxs)(z.Page,{size:"A4",style:c.styles.page,children:[Object(g.jsxs)(z.View,{style:c.styles.header,children:[Object(g.jsxs)(z.View,{style:c.styles.left,children:[Object(g.jsx)(z.View,{children:Object(g.jsx)(z.Image,{style:c.styles.metrolineaImage,src:O})}),Object(g.jsx)(z.Text,{style:c.styles.text1,children:"Nit.830.507.387-3"})]}),Object(g.jsx)(z.View,{style:c.styles.rigth,children:Object(g.jsx)(z.View,{style:c.styles.fo,children:Object(g.jsx)(z.Text,{style:c.styles.text2,children:"20-23.1.1.F0"})})})]}),Object(g.jsxs)(z.View,{style:c.styles.body,children:[Object(g.jsx)(z.View,{style:c.styles.mainTitle,children:Object(g.jsx)(z.Text,{style:c.styles.title,children:"Constancia"})}),Object(g.jsx)(z.View,{style:c.styles.fullWidthText,children:Object(g.jsx)(z.Text,{style:c.styles.justifyP,children:"La suscrita Profesional Universitario I Talento Humano, de la Sociedad Metrolinea S. A. hace constar que:"})}),Object(g.jsx)(z.View,{style:c.styles.fullWidthText,children:Object(g.jsxs)(z.Text,{style:c.styles.boldP,children:[e.name,", identificado con la c\xe9dula de ciudadan\xeda No. ",e.identification," expedida en Pamplona (N. de Santander), ejecuta con Metrol\xednea S.A., el siguiente CONTRATO DE PRESTACION DE SERVICIOS:"]})}),Object(g.jsx)(z.View,{style:c.styles.fullWidthText,children:Object(g.jsxs)(z.Text,{style:c.styles.boldP,children:[e.name,", identificado con la c\xe9dula de ciudadan\xeda No. ",e.identification," expedida en Pamplona (N. de Santander), ejecuta con Metrol\xednea S.A., el siguiente CONTRATO DE PRESTACION DE SERVICIOS:"]})}),Object(g.jsxs)(z.View,{style:c.styles.flexRow,children:[Object(g.jsx)(z.Text,{style:c.styles.col1,children:"VALOR DEL CONTRATO:"}),Object(g.jsx)(z.Text,{style:c.styles.col2,children:"QUINCE MILLONES OCHOCIENTOS DIEZ MIL PESOS M/CTE ($15.810.000)"})]})]})]})})})};i.a.render(Object(g.jsx)(t,{}),document.getElementById("viewer"))}))},c.getUser=function(e){v.a.get(c.url+"get-admin/"+e).then((function(e){c.setState({user:e.data.data})}))},c.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(c.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?D.a.fire({title:"Para acceder a esta funcionalidad debes iniciar sesi\xf3n",icon:"info"}).then((function(){c.props.history.push("/login")})):(c.getUser(e.data.data.id),c.connectSocket())}),(function(e){D.a.fire({title:"Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar",icon:"info"})}))},c.backToNews=function(){c.props.history.push("/news")},c.connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.setCheckedSocket=function(e){c.socket.emit("set-checked-news",e.data.data)},c.setUncheckedSocket=function(e){c.socket.emit("set-unchecked-news",e.data.data)},c.setCheckedForms=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(c.url+"get-checked-forms").then((function(e){c.setCheckedSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),c.setForms=Object(b.a)(h.a.mark((function e(){return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(c.url+"get-unchecked-forms").then((function(e){c.setUncheckedSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),c.updateDataState=function(e){c.newStateRef=e,1===c.newStateRef?D.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">\xbfEst\xe1s seguro?</div></div>',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, certificar",cancelButtonText:"Cancelar",showCloseButton:!0}).then((function(e){e.isConfirmed&&(D.a.fire("Certificado!","Se le notificar\xe1 al usuario sobre su solicitud","success"),c.updateForm())})):D.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">\xbfEst\xe1s seguro?</div></div>',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, rechazar",cancelButtonText:"Cancelar",showCloseButton:!0}).then((function(e){e.isConfirmed&&(D.a.fire("Rechazado!","Se le notificar\xe1 al usuario sobre su solicitud","success"),c.updateForm())}))},c.updateForm=function(){var e=c.state.form;e.state=c.newStateRef,e.checked=1,e.admin_id=c.state.user.id,v.a.put(c.url+"/update-form",e).then((function(e){c.setCheckedForms(),c.setForms(),c.backToNews()}))},c.getPdf=function(){v()({method:"POST",data:c.state.form,url:c.url+"/download-stamp",responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"theFrame")})).catch((function(e){console.log(e)}))},c.getFormById=function(e){v.a.get(c.url+"get-form/"+e).then((function(e){c.setState({form:e.data.data[0],status:"success"})}))},c.addContract=function(e,t){c.passData.current.addContract(e,t)},c.removeContract=function(e){c.contractorRef.current.removeContract(e)},c.passData=s.a.createRef(),c.contractorRef=s.a.createRef(),c.paramId=c.props.match.params.id,c.url=x.url,c.ws=x.ws,c.socket=null,c.styles=z.StyleSheet.create({page:{backgroundColor:"white",padding:"25px 50px"},section:{margin:10,padding:10,flexGrow:1},metrolineaImage:{width:"120px"},header:{display:"flex",flexDirection:"row",height:"80px",borderBottom:"1px solid yellow"},left:{margin:10,padding:10,flexGrow:1},rigth:{margin:10,padding:10,flexGrow:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},text1:{fontSize:"10px"},text2:{fontSize:"13px",fontWeight:"bold"},fo:{textAlign:"right",fontSize:"14px",width:"80px",height:"20px"},title:{textAlign:"center",fontWeight:"Helvetica-Bold",padding:"10px 0"},justifyP:{textAlign:"justify",fontSize:"14px",marginBottom:"10px"},boldP:{fontWeight:"bold",fontSize:"14px",float:"left"},flexRow:{width:"100%",flexDirection:"row",fontSize:"14px",marginBottom:"10px",marginTop:"10px"},col1:{width:"40%"},col2:{width:"60%"},fullWidthText:{marginBottom:"10px",marginTop:"10px"}}),c.state={form:{},status:null,user:{},showPdf:!1,previewPDF:!1,removedContract:{}},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getFormById(this.paramId),this.veryfyUserSesion()}},{key:"render",value:function(){var e=this;if(void 0!==this.state.user){if(void 0!==this.state.form.id&&null!==this.state.form.id){var t=null,a=!0,c=1===this.state.form.request_type;return 1===this.state.form.state?t=!0:0===this.state.form.state?t=!1:a=!1,Object(g.jsx)(s.a.Fragment,{children:Object(g.jsxs)("div",{className:a?"item-detail-container rejected":"item-detail-container",children:[Object(g.jsxs)("div",{className:"row container-top no-gutters justify-content-center",children:[Object(g.jsx)("div",{className:"item-detail col-lg-6",children:Object(g.jsxs)("div",{className:"row content-user-data no-gutters",children:[Object(g.jsxs)("div",{className:"col-lg-12 h-100 align-items-center",children:[Object(g.jsx)("div",{className:"row h-10 align-items-center  justify-content-center",children:Object(g.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del formulario"})}),Object(g.jsxs)("div",{className:"row h-40 align-items-center  justify-content-center",children:[Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Nombre"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"input-text absolute-center",children:this.state.form.name})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Correo"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"input-text absolute-center",children:this.state.form.email})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"identification"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"input-text absolute-center",children:this.state.form.identification})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"telephone"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"input-text absolute-center",children:this.state.form.telephone})})]})]}),Object(g.jsxs)("div",{className:"row h-50 align-items-center  justify-content-center",children:[Object(g.jsxs)("div",{className:"item-container area col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"Contenido"}),Object(g.jsx)("div",{className:"item-data",children:Object(g.jsx)("div",{className:"input-text absolute-center",children:this.state.form.content})})]}),Object(g.jsxs)("div",{className:"item-container col-lg-12",children:[Object(g.jsx)("div",{className:"item-label",children:"PDF"}),Object(g.jsx)("div",{className:"btn-pdf",onClick:function(){return e.setState({showPdf:!0})},children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"ver estampilla"})})]})]})]}),Object(g.jsxs)(I.a,{show:this.state.showPdf,onShow:this.getPdf,onHide:function(){return e.setState({showPdf:!1})},children:[Object(g.jsx)(I.a.Header,{closeButton:!0,children:Object(g.jsx)(I.a.Title,{children:"Estampilla"})}),Object(g.jsx)(I.a.Body,{children:Object(g.jsx)("div",{className:"pdf-viewer",children:Object(g.jsx)("iframe",{name:"theFrame"})})})]}),Object(g.jsxs)(I.a,{show:this.state.previewPDF,onShow:this.prevPDF,onHide:function(){return e.setState({previewPDF:!1})},children:[Object(g.jsx)(I.a.Header,{closeButton:!0,children:Object(g.jsx)(I.a.Title,{children:"Visualizador del PDF"})}),Object(g.jsx)(I.a.Body,{children:Object(g.jsx)("div",{className:"pdf-viewer",children:Object(g.jsx)("div",{id:"viewer"})})})]})]})}),Object(g.jsx)("div",{className:"user-data-container col-lg-6",children:c?Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"content-payroll-data",children:Object(g.jsx)(W,{payrollId:this.state.form.identification,ref1:this.userData})})}):Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"content-contractor-data",children:Object(g.jsx)(q,{contractorId:this.state.form.identification,pdfData:this.addContract,addedContract:this.state.addedContract,ref:this.contractorRef})})})}),c?Object(g.jsx)("div",{className:"row bg-title",children:Object(g.jsx)("div",{className:"absolute-center bg-title-label",children:"A\xf1adir Observaciones"})}):Object(g.jsx)("div",{className:"row bg-title",children:Object(g.jsx)("div",{className:"absolute-center bg-title-label",children:"A\xf1adir contratos"})})]}),Object(g.jsxs)("div",{className:"row container-bottom no-gutters justify-content-center",children:[Object(g.jsxs)("div",{className:"col-lg-6",children:[!a&&c&&Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"content-create-pdf h-90",children:Object(g.jsx)(M,{})})}),!a&&!c&&Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"content-create-pdf h-90",children:Object(g.jsx)(U,{contractData:this.state.addedContract,ref:this.passData,remove:this.removeContract,prev:this.prevPDF})})})]}),Object(g.jsx)("div",{className:"col-lg-6"})]}),Object(g.jsxs)("div",{className:"row options-buttons align-items-center justify-content-center",children:[t&&a&&Object(g.jsx)("div",{className:"btn-aprove disabled active col-lg-auto",children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Certificado"})}),!t&&a&&Object(g.jsx)("div",{className:"btn-deny disabled active col-lg-auto",children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Rechazado"})}),!a&&Object(g.jsxs)(s.a.Fragment,{children:[Object(g.jsx)("div",{className:"btn-aprove col-lg-auto",onClick:function(){e.updateDataState(1)},children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Certificar"})}),Object(g.jsx)("div",{className:"col-lg-2"}),Object(g.jsx)("div",{className:"btn-deny col-lg-auto",onClick:function(){e.updateDataState(0)},children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Rechazar"})})]})]}),Object(g.jsx)("div",{className:"back-container",children:Object(g.jsx)("div",{className:"btn-back",onClick:this.backToNews,children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Volver"})})})]})})}return void 0===this.state.form&&"success"===this.state.status?Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("h1",{children:" no hay Formularios con este id"})}):Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("h1",{children:" Cargando espera mientras carga"})})}return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("h1",{children:" Usuario externo"})})}}]),a}(c.Component),V=(a(688),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.setSocket=function(e){},c.redirect=function(e){1===e?c.props.history.push("/login"):c.props.history.push("/form")},c.url=x.url,c.ws=x.ws,c.socket=null,c.state={user:{name:"",email:"",identification:"",telephone:""},stamp:null,status:null},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){var e=this;return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"container-home row h-100 align-items-center justify-content-center",children:Object(g.jsxs)("div",{className:"content-container-home",children:[Object(g.jsx)("div",{className:"row h-25 no-gutters align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"form-logo",children:Object(g.jsx)("img",{className:"login-logo",src:O,alt:"imagen de metrolinea"})})}),Object(g.jsx)("div",{className:"row h-15 no-gutters align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"col-lg-12 align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"home-title-color absolute-center",children:"Bienvenido al Asistente"})})}),Object(g.jsx)("div",{className:"row h-15 no-gutters align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"col-lg-12 align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"home-description absolute-center",children:"Accede para solicitar carta laboral o inicia sesi\xf3n para comenzar la administracion de cartas laborales"})})}),Object(g.jsx)("div",{className:"row h-20 no-gutters align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"content admin",children:Object(g.jsx)("div",{className:"btn-login",onClick:function(){e.redirect(1)},children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Inicia Sesi\xf3n"})})})}),Object(g.jsx)("div",{className:"row h-20 no-gutters align-items-center justify-content-center",children:Object(g.jsx)("div",{className:"content external",children:Object(g.jsx)("div",{className:"btn-carta",onClick:function(){e.redirect(0)},children:Object(g.jsx)("div",{className:"btn-label absolute-center",children:"Solicitar una carta laboral"})})})})]})})})}}]),a}(c.Component)),H=(a(689),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var c;return Object(r.a)(this,a),(c=t.call(this,e)).userNameRef=s.a.createRef(),c.userPassRef=s.a.createRef(),c.connectSocket=function(){c.socket=Object(p.io)(c.ws)},c.setSocket=function(e){c.socket.emit("set-unchecked-news",e.data.data),c.socket.on("get-unchecked-news",(function(e){c.setState({forms:e,status:"success"})}))},c.isLogged=function(){},c.login=function(){v.a.get(c.url+"get-unchecked-forms").then((function(e){c.setSocket(e)}))},c.saveForm=function(){var e=Object(b.a)(h.a.mark((function e(t){var a;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:c.userNameRef.current.value,pass:c.userPassRef.current.value},c.setState({user:a}),e.next=5,v.a.post(c.url+"login",a).then((function(e){e?D.a.fire("Hola "+e.data.data.name,"Bienvenido admin","success").then((function(){localStorage.setItem("userSesion",e.data.token),c.props.history.push("/news")})):c.setState({status:"failed"})}),(function(e){D.a.fire({title:"Usuario o contrase\xf1a incorrectos",icon:"error"})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c.url=x.url,c.ws=x.ws,c.socket=null,c.state={user:{name:"",pass:""},status:null},c}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){return Object(g.jsx)(s.a.Fragment,{children:Object(g.jsx)("div",{className:"row h-100 content-login no-gutters justify-content-center align-items-center",children:Object(g.jsx)("div",{className:"form-content-container row justify-content-center align-items-center",children:Object(g.jsxs)("form",{className:"form",onSubmit:this.saveForm,children:[Object(g.jsx)("div",{className:"form-group row h-30 justify-content-center align-items-center",children:Object(g.jsx)("div",{className:"form-logo",children:Object(g.jsx)("img",{className:"login-logo",src:O,alt:"imagen de metrolinea"})})}),Object(g.jsxs)("div",{className:"form-group  row h-20 justify-content-center align-items-center",children:[Object(g.jsx)("div",{className:"form-label col-lg-12",htmlFor:"nombre",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Nombre de usuario"})}),Object(g.jsx)("input",{className:"form-input col-lg-12",type:"text",name:"nombre",ref:this.userNameRef})]}),Object(g.jsxs)("div",{className:"form-group  row h-20 justify-content-center align-items-center",children:[Object(g.jsx)("div",{className:"form-label col-lg-12",htmlFor:"pass",children:Object(g.jsx)("div",{className:"text absolute-center",children:"Contrase\xf1a"})}),Object(g.jsx)("input",{className:"form-input col-lg-12",type:"password",name:"pass",ref:this.userPassRef})]}),Object(g.jsx)("div",{className:"row h-30 justify-content-center align-items-center",children:Object(g.jsx)("input",{type:"submit",value:"Entrar"})})]})})})})}}]),a}(c.Component)),Q=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(g.jsx)(u.a,{children:Object(g.jsxs)(j.c,{children:[Object(g.jsx)(j.a,{exact:!0,path:"/",component:V}),Object(g.jsx)(j.a,{exact:!0,path:"/form",component:N}),Object(g.jsx)(j.a,{exact:!0,path:"/login",component:H}),Object(g.jsx)(j.a,{exact:!0,path:"/news",component:T}),Object(g.jsx)(j.a,{path:"/new-details/:id",component:_}),Object(g.jsx)(j.a,{render:function(){return Object(g.jsxs)(s.a.Fragment,{children:[Object(g.jsx)("h1",{children:"Pagina no encontrada"}),Object(g.jsx)(u.b,{to:"/",children:"Inicio"})]})}})]})})}}]),a}(c.Component);a(693);var Y=function(){return Object(g.jsx)("div",{className:"App",children:Object(g.jsx)("section",{className:"components",children:Object(g.jsx)(Q,{})})})},G=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,712)).then((function(t){var a=t.getCLS,c=t.getFID,s=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),c(e),s(e),n(e),i(e)}))};i.a.render(Object(g.jsxs)(s.a.StrictMode,{children:[Object(g.jsx)(Y,{}),Object(g.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(g.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})]}),document.getElementById("root")),G()}},[[694,1,2]]]);
//# sourceMappingURL=main.389c81b0.chunk.js.map