(this["webpackJsonpcarta-laboral-app"]=this["webpackJsonpcarta-laboral-app"]||[]).push([[0],{344:function(e,t,s){},345:function(e,t,s){},347:function(e,t,s){},469:function(e,t,s){},470:function(e,t,s){},471:function(e,t,s){},472:function(e,t,s){},478:function(e,t,s){},479:function(e,t,s){},480:function(e,t,s){},481:function(e,t,s){},482:function(e,t,s){},483:function(e,t,s){},484:function(e,t){},486:function(e,t){},516:function(e,t){},517:function(e,t){},626:function(e,t){},817:function(e,t,s){},818:function(e,t,s){},823:function(e,t,s){"use strict";s.r(t);var a=s(2),c=s.n(a),i=s(35),n=s.n(i),r=(s(344),s(345),s(19)),l=s(16),o=s(21),d=s(20),u=s(130),j=s(24),m=s(11),b=s.n(m),h=s(30),f=(s(347),s(12)),v=s.n(f),x={url:"http://104.248.54.46:3900/metrolinea/",ws:"ws://104.248.54.46:3900",url_front:"http://104.248.54.46:3900/"},p=s.p+"static/media/metrolinea-logo.16f6c7f8.png",O=s(29),g=s(14),y=s.n(g),N=s(72),w=s.n(N),C=s(1),k=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).userUrlStampRef=c.a.createRef(),a.payroll=c.a.createRef(),a.contractor=c.a.createRef(),a.fileChange=function(e){if(e.preventDefault(),"application/pdf"!==e.target.files[0].type)return y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>El archivo adjunto debe ser formato pdf.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}),void(e.target.value=null);var t={stamp_url:e.target.files[0]},s=new FormData;s.append("file",t.stamp_url),a.setState({stamp:s})},a.connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.setSocket=function(e){a.socket.emit("set-unchecked-news",e.data.data),a.socket.on("get-unchecked-news",(function(e){a.setState({forms:e,status:"success"})}))},a.getForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(a.url+"get-unchecked-forms").then((function(e){a.setSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),a.sendForm=function(e){e.preventDefault();var t={name:a.userNameRef,email:a.userMailRef,identification:a.userIdentificationRef,telephone:a.userTelephoneRef};a.setState({user:t})},a.saveForm=function(e){e.preventDefault();var t={name:a.userNameRef,email:a.userMailRef,identification:a.userIdentificationRef,telephone:a.userTelephoneRef};a.setState({user:t},Object(h.a)(b.a.mark((function e(){var t,s,c,i,n,r,l;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={content:a.userContentRef,user_id:0,stamp_id:0,request_type:a.payroll.current.checked?1:0},e.prev=1,s=w.a.isEmail(a.state.user.email)&&w.a.isLength(a.state.user.email,1,50),c=""!==a.state.user.name&&w.a.isLength(a.state.user.name,1,50),i=""!==a.state.user.telephone&&w.a.isLength(a.state.user.telephone,1,16),n=""!==a.state.user.identification&&w.a.isLength(a.state.user.identification,1,16),r=null!==a.state.stamp,l=""!==t.content&&w.a.isLength(t.content,1,250),e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Formulario diligenciado correctamente. Recibir\xe1 un correo con m\xe1s informaci\xf3n sobre su petici\xf3n.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}),e.abrupt("return",console.log(e.t0));case 14:if(!(s&&c&&l&&i&&n&&r)){e.next=18;break}v.a.post(a.url+"create-user",a.state.user).then((function(e){e?(t.user_id=e.data.data.insertId,v.a.post(a.url+"upload-stamp",a.state.stamp).then(function(){var e=Object(h.a)(b.a.mark((function e(s){var c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=6;break}return c={stamp_url:s.data.data},e.next=4,v.a.post(a.url+"create-stamp",c).then(function(){var e=Object(h.a)(b.a.mark((function e(s){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s){e.next=7;break}return t.stamp_id=s.data.data.insertId,a.setState({form:t}),e.next=5,v.a.post(a.url+"create-form",a.state.form).then((function(e){e?(a.getForms(),a.socket.emit("new-form",a.state.form),a.setState({status:"succes"}),y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Formulario diligenciado correctamente, recibir\xe1 un correo con m\xe1s informaci\xf3n sobre su petici\xf3n.</div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){a.mailForm.email=a.state.user.email,a.mailForm.name=a.state.user.name,a.mailForm.mailState=2,a.mailForm.id=e.data.data.insertId,v.a.post(a.url+"mail",a.mailForm).then((function(e){a.props.history.push("/")}))}))):a.setState({status:"failed"})}));case 5:e.next=8;break;case 7:a.setState({status:"failed"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=7;break;case 6:a.setState({status:"failed"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):a.setState({status:"failed"})})),e.next=20;break;case 18:return y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Formulario mal diligenciado, debe ingresar un correo.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}),e.abrupt("return");case 20:case"end":return e.stop()}}),e,null,[[1,10]])}))))},a.backToNews=function(){a.props.history.push("/")},a.url=x.url,a.ws=x.ws,a.socket=null,a.userTelephoneRef="",a.userIdentificationRef="",a.userNameRef="",a.userMailRef="",a.userContentRef="",a.mailForm={},a.worngField="",a.state={user:{name:"",email:"",identification:"",telephone:""},stamp:null,form:{content:"",stamp_id:0,user_id:0},status:null,payroll:!1,contract:!1},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"componentDidMount",value:function(){for(var e=document.getElementsByTagName("INPUT"),t=0;t<e.length;t++)e[t].oninvalid=function(e){e.target.setCustomValidity(""),e.target.validity.valid||("file0"===e.target.name?e.target.setCustomValidity("Seleccione un archivo."):e.target.setCustomValidity("Complete este campo."))},e[t].oninput=function(e){e.target.setCustomValidity("")}}},{key:"render",value:function(){var e=this;return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"form-content-container-main",children:Object(C.jsxs)("form",{className:"form-main",onSubmit:this.saveForm,children:[Object(C.jsx)("div",{className:"form-group",children:Object(C.jsx)("div",{className:"form-logo",children:Object(C.jsx)("img",{className:"login-logo",src:p,alt:"imagen de metrolinea"})})}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsxs)("div",{className:"form-label",htmlFor:"nombre",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Nombre del solicitante"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("input",{className:"form-input",type:"text",name:"nombre",required:!0,maxLength:"50",pattern:"^[a-zA-Z\xf1\xd1\xe1\xe9\xed\xf3\xfa\xc1\xc9\xcd\xd3\xda ,.'-]+",onChange:function(t){e.userNameRef=""===t.target.value?t.target.value:e.userNameRef,e.userNameRef=t.target.validity.valid?t.target.value:e.userNameRef,t.target.value=e.userNameRef,e.worngField=t.target.validity.valid?"":"El campo nombre est\xe1 mal diligenciado"}})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsxs)("div",{className:"form-label",htmlFor:"mail",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Correo"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("input",{className:"form-input",type:"text",name:"mail",required:!0,maxLength:"50",onChange:function(t){e.userMailRef=""===t.target.value?t.target.value:e.userMailRef,e.userMailRef=t.target.validity.valid?t.target.value:e.userMailRef,t.target.value=e.userMailRef}})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsxs)("div",{className:"form-label",htmlFor:"identification",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Identificaci\xf3n"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("input",{className:"form-input",type:"identification",name:"identification",ref:this.userIdentificationRef,required:!0,maxLength:"16",pattern:"\\d+",onChange:function(t){e.userIdentificationRef=""===t.target.value?t.target.value:e.userIdentificationRef,e.userIdentificationRef=t.target.validity.valid?t.target.value:e.userIdentificationRef,t.target.value=e.userIdentificationRef,e.worngField=t.target.validity.valid?"":"El campo identificaci\xf3n est\xe1 mal diligenciado"}})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsxs)("div",{className:"form-label",htmlFor:"telephone",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Tel\xe9fono"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("input",{className:"form-input",type:"telephone",name:"telephone",required:!0,maxLength:"16",pattern:"\\d+",onChange:function(t){e.userTelephoneRef=""===t.target.value?t.target.value:e.userTelephoneRef,e.userTelephoneRef=t.target.validity.valid?t.target.value:e.userTelephoneRef,t.target.value=e.userTelephoneRef,e.worngField=t.target.validity.valid?"":"El campo tel\xe9fono est\xe1 mal diligenciado"}})]}),Object(C.jsxs)("div",{className:"form-group form-text-area",children:[Object(C.jsxs)("div",{className:"form-label",htmlFor:"content",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Descripci\xf3n de la solicitud"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("textarea",{className:"text-area-input",type:"text-area",name:"content",required:!0,maxLength:"250",pattern:"^[a-zA-Z ,.'-]+",onChange:function(t){e.userContentRef=""===t.target.value?t.target.value:e.userContentRef,e.userContentRef=t.target.validity.valid?t.target.value:e.userContentRef,t.target.value=e.userContentRef,e.worngField=t.target.validity.valid?"":"El campo contenido est\xe1 mal diligenciado"}})]}),Object(C.jsxs)("div",{className:"form-group",children:[Object(C.jsx)("div",{className:"form-label",htmlFor:"fiel0",children:Object(C.jsx)("div",{className:"text absolute-center",children:"Adjuntar estampilla"})}),Object(C.jsx)("input",{id:"archivo",className:"form-input-file",type:"file",name:"file0",ref:this.userUrlStampRef,onChange:this.fileChange,required:!0}),Object(C.jsx)("label",{className:"file-input",htmlFor:"archivo",children:"Examinar"}),Object(C.jsx)("div",{className:"form-label",children:Object(C.jsxs)("div",{className:"text link absolute-center",children:["Recuerda descargar tu estampilla primero ",Object(C.jsx)("a",{href:"https://estampillas.syc.com.co/",target:"_blank",children:"Comprar estampilla"})]})})]}),Object(C.jsxs)("div",{className:"form-group-radio",children:[Object(C.jsx)("div",{className:"form-label",htmlFor:"requestType",children:Object(C.jsx)("div",{className:"text-radio-label absolute-center",children:"Tipo de petici\xf3n:"})}),Object(C.jsxs)("div",{className:"row no-gutters select-type align-items-center justify-content-center",children:[Object(C.jsx)("div",{className:"col-lg-12 radio-input",children:Object(C.jsxs)("label",{className:"container-radio",children:["Carta laboral n\xf3mina",Object(C.jsx)("input",{type:"radio",className:"form-input-check",name:"requestType",ref:this.payroll,onChange:function(){e.payroll.current.checked=!0,e.contractor.current.checked=!1},required:!0}),Object(C.jsx)("span",{className:"checkmark"})]})}),Object(C.jsx)("div",{className:"col-lg-12 radio-input",children:Object(C.jsxs)("label",{className:"container-radio",children:["Carta laboral contratista",Object(C.jsx)("input",{type:"radio",className:"form-input-check",name:"requestType",ref:this.contractor,onChange:function(){e.payroll.current.checked=!1,e.contractor.current.checked=!0}}),Object(C.jsx)("span",{className:"checkmark"})]})})]})]}),Object(C.jsx)("input",{type:"submit",value:"Enviar"}),Object(C.jsx)("div",{className:"back-container",children:Object(C.jsx)("div",{className:"btn-back",onClick:this.backToNews,children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Volver"})})})]})})})}}]),s}(a.Component),S=(s(469),s(470),s(471),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onClickCard=function(){a.props.clickCard(a.props.new)},a.url=x.url,a.state={form:a.props.new},a}return Object(l.a)(s,[{key:"render",value:function(){var e=null,t=!0;return 1===this.state.form.state?e=!0:0===this.state.form.state?e=!1:t=!1,Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"item-card-container",children:Object(C.jsxs)("div",{className:"item-card",onClick:this.onClickCard,children:[Object(C.jsxs)("div",{className:"state-container",children:[e&&t&&Object(C.jsx)("div",{className:"label-mark certified"}),!e&&t&&Object(C.jsx)("div",{className:"label-mark denied"}),!t&&Object(C.jsx)("div",{className:"label-mark unchecked"})]}),Object(C.jsx)("div",{className:"item-container col-lg-auto",children:Object(C.jsx)("div",{className:"item-data absolute-center item-dark-data",children:this.state.form.name})}),Object(C.jsx)("div",{className:"item-container dark-item col-lg-auto",children:Object(C.jsx)("div",{className:"item-data absolute-center",children:this.state.form.identification})}),Object(C.jsx)("div",{className:"item-container col-lg-auto",children:this.state.form.request_type?Object(C.jsx)("div",{className:"item-data absolute-center",children:"Nomina"}):Object(C.jsx)("div",{className:"item-data absolute-center",children:"Contratista"})})]})})})}}]),s}(a.Component)),T=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setQuantity=function(e){a.props.quantity(e.length)},a.connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.setSocket=function(e){a.socket.emit("set-unchecked-news",e.data.data),a.socket.on("get-unchecked-news",(function(e){a.setState({forms:e,status:"success"}),a.setQuantity(e)}))},a.viewDetails=function(e){var t="/new-details/"+e.id;a.history.push(t)},a.getForms=function(){v.a.get(a.url+"get-unchecked-forms").then((function(e){a.setSocket(e)}))},a.url=x.url,a.history=a.props.history,a.ws=x.ws,a.socket=null,a.state={forms:{},status:null},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.connectSocket(),this.getForms()}},{key:"render",value:function(){var e=this;if(this.state.forms.length>=1){var t=this.state.forms.map((function(t,s){return Object(C.jsx)(S,{new:t,clickCard:e.viewDetails},s)}));return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"formulario absolute-center",children:t})})}return 0===this.state.forms.length&&"success"===this.state.status?Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"formulario absolute-center",children:Object(C.jsx)("h2",{className:"absolute-center",children:" no hay formularios pendientes"})})}):Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"formulario absolute-center",children:Object(C.jsx)("h2",{className:"absolute-center",children:" Cargando formularios ..."})})})}}]),s}(a.Component),F=s(52),R=(s(472),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setQuantity=function(e){var t=[],s=[];e.map((function(e){1===e.state?t.push(e):s.push(e)}));var c={aproved:t,denied:s};a.props.quantity(c)},a.connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.setSocket=function(e){a.socket.emit("set-checked-news",e.data.data),a.socket.on("get-checked-news",(function(e){a.setState({forms:e,status:"success"}),a.setQuantity(e)}))},a.viewDetails=function(e){var t="/new-details/"+e.id;a.history.push(t)},a.getCheckedForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(a.url+"get-checked-forms").then((function(e){a.setSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),a.url=x.url,a.ws=x.ws,a.socket=null,a.history=a.props.history,a.viewDetails=a.viewDetails.bind(Object(F.a)(a)),a.state={forms:{},status:null},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.connectSocket(),this.getCheckedForms()}},{key:"render",value:function(){var e=this;if(this.state.forms.length>=1){var t=this.state.forms.map((function(t,s){return Object(C.jsx)(S,{new:t,clickCard:e.viewDetails},s)}));return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"formulario absolute-center",children:t})})}return 0===this.state.forms.length&&this.state.status,Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"formulario absolute-center",children:Object(C.jsx)("h1",{className:"absolute-center",children:" no hay Formularios"})})})}}]),s}(a.Component)),D=s(133),B=(s(473),s(839)),P=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).getUser=function(e){v.a.get(a.url+"get-admin/"+e).then((function(e){a.setState({user:e.data.data})}))},a.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(a.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para acceder a la funcionalidad, debe iniciar sesi\xf3n.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){a.props.history.push("/login")})):(a.getUser(e.data.data.id),a.connectSocket())}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para acceder a la funcionalidad, debe iniciar sesi\xf3n.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){a.props.history.push("/login")}))}))},a.connectSocket=function(){a.socket=Object(O.io)(a.ws),a.socket.on("get-news",(function(e){a.setState({toast:e}),a.notify()}))},a.changeState=function(e){var t=e.currentTarget,s=document.querySelector(".btn-nav.active"),a=document.querySelector(".active.content-news"),c=document.querySelector(".inactive.content-news");"active"!==t.classList[1]&&("btn-nav-news"===t.classList[0]?(t.className="btn-nav-news active btn-nav",s.className="btn-nav-checked btn-nav"):(t.className="btn-nav-checked active btn-nav",s.className="btn-nav-news btn-nav"),a.className="content-news inactive",c.className="content-news active")},a.notify=function(){D.b.info("Nueva petici\xf3n",{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},a.getUncheckedLength=function(e){a.setState({uncheckedLength:e})},a.getCheckedLength=function(e){a.setState({checkedDeniedLength:e.denied.length,checkedAprovedLength:e.aproved.length})},a.logOut=function(){localStorage.removeItem("userSesion"),y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Sesi\xf3n cerrada</div></div>'}).then((function(){a.props.history.push("/")}))},a.url=x.url,a.ws=x.ws,a.socket=null,a.state={toast:null,uncheckedLength:"0",checkedAprovedLength:"0",checkedDeniedLength:"0",user:{}},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.veryfyUserSesion(),D.b.clearWaitingQueue()}},{key:"render",value:function(){return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"row align-items-center justify-content-center news-container",children:Object(C.jsxs)("div",{className:"no-gutters content-container-news",children:[Object(C.jsxs)("div",{className:"header-menu",children:[Object(C.jsx)("div",{className:"btn-nav-news active btn-nav",onClick:this.changeState,children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Pendientes"})}),Object(C.jsx)("div",{className:"btn-nav-checked inactive btn-nav",onClick:this.changeState,children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Historial"})}),Object(C.jsx)("div",{className:"btn-nav-close log-out",onClick:this.logOut,children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Cerrar sesi\xf3n"})})]}),Object(C.jsxs)("div",{className:"news-content",children:[Object(C.jsxs)("div",{className:"badge-container",children:[Object(C.jsxs)("div",{className:"badge-content",children:[Object(C.jsx)("div",{className:"badge-label absolute-center",children:"Pendientes:"}),Object(C.jsx)(B.a,{className:"unchecked",color:"primary",badgeContent:this.state.uncheckedLength})]}),Object(C.jsxs)("div",{className:"badge-content",children:[Object(C.jsx)("div",{className:"badge-label absolute-center",children:"Certificadas:"}),Object(C.jsx)(B.a,{className:"aproved",badgeContent:this.state.checkedAprovedLength})]}),Object(C.jsxs)("div",{className:"badge-content",children:[Object(C.jsx)("div",{className:"badge-label absolute-center",children:"Rechazadas:"}),Object(C.jsx)(B.a,{className:"denied",color:"secondary",badgeContent:this.state.checkedDeniedLength})]})]}),Object(C.jsx)("div",{className:"unchecked-forms active content-news",children:Object(C.jsx)(T,{forms:this.state.forms,status:this.state.status,history:this.props.history,quantity:this.getUncheckedLength})}),Object(C.jsx)("div",{className:"checked-forms inactive content-news",children:Object(C.jsx)(R,{forms:this.state.checkedForms,status:this.state.statusChecked,history:this.props.history,quantity:this.getCheckedLength})})]}),Object(C.jsx)("div",{className:"toast-container",children:Object(C.jsx)(D.a,{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,limit:5,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})})]})})})}}]),s}(a.Component),q=(s(478),s(22)),I=(s(479),s(114)),V=s(330),A=s(112),E=s(113),L=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).contractNumberRef=c.a.createRef(),a.contractYearRef=c.a.createRef(),a.setContractNumber=function(){},a.closeAddContract=function(){a.setState({addContract:!1})},a.addContract=function(e,t){var s={ejecuta:a.contratosEjecuta,suscribio:a.contratosSuscritos};"Suscribio"===t?(a.contratosSuscritos.push(e),a.setState({contratos:s})):(a.contratosEjecuta.push(e),a.setState({contratos:s}))},a.removeContract=function(e,t){var s=a.state.contratos;0===t?(s.ejecuta.map((function(t,c){t.id===e.id&&(s.ejecuta.splice(c,1),a.setState({contratos:s}))})),a.props.remove(e)):(s.suscribio.map((function(t,c){t.id===e.id&&(s.suscribio.splice(c,1),a.setState({contratos:s}))})),a.props.remove(e))},a.addDetail=function(e,t,s){var c=a.state.contratos;s?c.suscribio.map((function(s,i){s.id===e.id&&(s.details=t,a.setState({contratos:c}))})):c.ejecuta.map((function(s,i){s.id===e.id&&(s.details=t,a.setState({contratos:c}))}))},a.getDetail=function(e,t){var s=a.state.contratos;t?s.suscribio.map((function(t,s){t.id===e.id&&(t.details=t.details.replaceAll("<br />","\n"),y.a.fire({html:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Agregar detalle</div></div><textarea id=input-detail  type="text-area" name="detail">'+t.details+"</textarea>",denyButtonColor:"#0A9B91",confirmButtonText:"Listo",allowOutsideClick:!1,showCloseButton:!0}).then((function(e){if(e.isConfirmed){var s=document.getElementById("input-detail").value;s=s.replaceAll("<br />","\n"),a.addDetail(t,s,1)}})))})):s.ejecuta.map((function(t,s){var c="<br />";t.id===e.id&&(t.details=t.details.replaceAll(c,"\n"),y.a.fire({html:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Agregar detalle</div></div><textarea id=input-detail  type="text-area" name="detail">'+t.details+"</textarea>",denyButtonColor:"#0A9B91",confirmButtonText:"Listo",allowOutsideClick:!1,showCloseButton:!0}).then((function(e){if(e.isConfirmed){var s=document.getElementById("input-detail").value;s=s.replaceAll(c,"\n"),a.addDetail(t,s,0)}})))}))},a.url=x.url,a.contratosSuscritos=[],a.contratosEjecuta=[],a.state={contratos:{ejecuta:[],suscribio:[]},selectedContracts:[],userId:null,addContract:!1,diffx:0,diffy:0,draggingState:!1,styles:{left:50,top:50},stylesWindow:{},arrivalData:{},showDetail:!1},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.setState({arrivalData:this.props.contractData})}},{key:"showObject",value:function(e,t){this.setState({showDetail:!0})}},{key:"render",value:function(){var e=this,t=this.props.user,s=function(e){return Object(C.jsx)(V.a,{id:"button-tooltip",children:e})};return Object(C.jsx)(c.a.Fragment,{children:void 0===t||null===t?Object(C.jsx)("div",{className:"content-createPDF",children:Object(C.jsx)("div",{className:"prev-container h-10",children:Object(C.jsx)("div",{className:"btn-prev",onClick:function(){e.props.pdfPrev()},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"ver Certificado"})})})}):Object(C.jsxs)("div",{className:"content-createPDF",children:[Object(C.jsx)("div",{className:"row h-90 no-gutters",children:Object(C.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(C.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.ejecuta.length>0?Object(C.jsxs)("div",{className:"list-container ejecuta-list",children:[Object(C.jsx)("div",{className:"list-label",children:"Ejecuta"}),Object(C.jsx)("div",{className:"list",children:this.state.contratos.ejecuta.map((function(t,a){return Object(C.jsxs)("div",{className:"item-list-added row no-gutters align-items-center justify-content-center",children:[Object(C.jsx)("div",{className:"colum-container col-lg-1",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:t.contract_number})}),Object(C.jsx)("div",{className:"colum-container col-lg-2",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:t.year})}),Object(C.jsx)("div",{className:"colum-container col-lg-6",children:Object(C.jsx)("div",{className:"column-data elipsis absolute-center",children:t.object})}),Object(C.jsx)(A.a,{transition:!1,placement:"bottom",overlay:s("Agregar detalle"),children:Object(C.jsx)("div",{className:"colum-container col-lg-1",children:Object(C.jsx)("div",{variant:"success",className:"column-data absolute-center",children:Object(C.jsx)(I.a,{variant:"edit",onClick:function(){e.getDetail(t,0)},children:Object(C.jsx)(E.a,{className:"no-events absolute-center"})})})})}),Object(C.jsx)(A.a,{transition:!1,placement:"bottom",overlay:s("Remover"),children:Object(C.jsx)("div",{className:"colum-container col-lg-1",children:Object(C.jsx)("div",{variant:"success",className:"column-data absolute-center",children:Object(C.jsx)(I.a,{variant:"danger",onClick:function(){return e.removeContract(t,0)},children:Object(C.jsx)(E.b,{className:"no-events absolute-center"})})})})})]},a)}))})]}):Object(C.jsxs)("div",{className:"list-container ejecuta-list",children:[Object(C.jsx)("div",{className:"list-label",children:"Ejecuta"}),Object(C.jsx)("div",{className:"list",children:Object(C.jsx)("h2",{className:"list-label absolute-center",children:"No hay resultados"})})]})}),Object(C.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.suscribio.length>0?Object(C.jsxs)("div",{className:"list-container suscribio-list",children:[Object(C.jsx)("div",{className:"list-label",children:"Suscribi\xf3"}),Object(C.jsx)("div",{className:"list",children:this.state.contratos.suscribio.map((function(t,s){return Object(C.jsxs)("div",{className:"item-list-added row no-gutters align-items-center justify-content-center",children:[Object(C.jsx)("div",{className:"colum-container col-lg-1",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:t.contract_number})}),Object(C.jsx)("div",{className:"colum-container col-lg-2",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:t.year})}),Object(C.jsx)("div",{className:"colum-container col-lg-5",children:Object(C.jsx)("div",{className:"column-data elipsis absolute-center",children:t.object})}),Object(C.jsx)("div",{className:"colum-container col-lg-1",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:Object(C.jsx)(I.a,{variant:"edit",onClick:function(){e.getDetail(t,1)},children:Object(C.jsx)(E.a,{className:"no-events absolute-center"})})})}),Object(C.jsx)("div",{className:"colum-container col-lg-1",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:Object(C.jsx)(I.a,{variant:"danger",onClick:function(){return e.removeContract(t,1)},children:Object(C.jsx)(E.b,{className:"absolute-center"})})})})]},s)}))})]}):Object(C.jsxs)("div",{className:"list-container suscribio-list",children:[Object(C.jsx)("div",{className:"list-label",children:"Suscribi\xf3"}),Object(C.jsx)("div",{className:"list",children:Object(C.jsx)("h2",{className:"list-label absolute-center",children:"No hay resultados"})})]})})]})}),Object(C.jsx)("div",{className:"prev-container h-10",children:Object(C.jsx)("div",{className:"btn-prev",onClick:function(){e.props.prev(0)},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Previsualizar"})})})]})})}}]),s}(a.Component),z=(s(480),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).observations=c.a.createRef(),a.setContractNumber=function(){},a.closeAddContract=function(){a.setState({addContract:!1})},a.openDragWindow=function(e){a.setState({addContract:!0})},a.url=x.url,a.dragStart=a.dragStart.bind(Object(F.a)(a)),a.dragging=a.dragging.bind(Object(F.a)(a)),a.dragOver=a.dragOver.bind(Object(F.a)(a)),a.observData=a.observations,a.state={userId:null},a}return Object(l.a)(s,[{key:"dragStart",value:function(e){this.setState({diffx:e.screenX-e.currentTarget.getBoundingClientRect().left,diffy:e.screenY-e.currentTarget.getBoundingClientRect().top,draggingState:!0})}},{key:"dragOver",value:function(){this.setState({draggingState:!1})}},{key:"dragging",value:function(e){if(this.state.draggingState){var t={left:e.screenX-this.state.diffx,top:e.screenY-this.state.diffy};this.setState({styles:t}),console.log(t)}}},{key:"render",value:function(){var e=this,t=this.props.user;return Object(C.jsx)(c.a.Fragment,{children:void 0===t||null===t?Object(C.jsx)("div",{className:"content-Payroll",children:Object(C.jsx)("div",{className:"prev-container h-10",children:Object(C.jsx)("div",{className:"btn-prev",onClick:function(){e.props.pdfPrev()},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"ver certificado"})})})}):Object(C.jsxs)("div",{className:"content-Payroll",children:[Object(C.jsx)("div",{className:"row h-90 no-gutters align-items-center",children:Object(C.jsx)("div",{className:"container-text-area col-lg-12 h-90",children:Object(C.jsx)("textarea",{className:"text-area-input",type:"text-area",name:"content",ref:this.observations})})}),Object(C.jsx)("div",{className:"prev-container h-10",children:Object(C.jsx)("div",{className:"btn-prev",onClick:function(){e.props.prev(1,e.observations)},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Previsualizar"})})})]})})}}]),s}(a.Component)),_=(s(481),s(482),s(135)),M=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).contractNumberRef=c.a.createRef(),a.contractYearRef=c.a.createRef(),a.setContractNumber=function(){},a.setInactive=function(){var e=document.querySelectorAll(".item-list");e.length>=1&&Array.from(e).map((function(e,t){e.className=a.state.active}))},a.selectContract=function(e,t){a.setInactive(),t.details="";var s=e.currentTarget;s.className=s.className+" active",a.setState({selectedContracts:t})},a.validateRelation=function(){},a.addContract=function(){},a.removeContract=function(e){var t=a.state.contratos;t.push(e),a.setState({contratos:t})},a.overLayRef=c.a.createRef(),a.url=x.url,a.relatedContracts=a.props.contractsRelated,a.state={contratos:[],selectedContracts:null,userId:null,active:"item-list row no-gutters align-items-center justify-content-center",showDetail:!1},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.setState({contratos:this.relatedContracts})}},{key:"showObject",value:function(e,t){this.setState({showDetail:!0})}},{key:"render",value:function(){var e=this,t=function(e){return Object(C.jsxs)(_.a,{transition:!1,id:"popover-basic",children:[Object(C.jsx)(_.a.Title,{as:"h3",children:"Objeto del contrato"}),Object(C.jsx)(_.a.Content,{children:e.object})]})};return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"container-search-contract",children:Object(C.jsx)("div",{className:"search-row row h-100 no-gutters",children:Object(C.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(C.jsx)("div",{className:"row h-80 no-gutters",children:this.state.contratos.length>0?Object(C.jsxs)("div",{className:"list-container-search",children:[Object(C.jsx)("div",{className:"list-label",children:"Resultado de b\xfasqueda"}),Object(C.jsxs)("div",{className:"item-list-header row no-gutters align-items-center justify-content-center",children:[Object(C.jsx)("div",{className:"column-container col-lg-1",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:"N\xb0"})}),Object(C.jsx)("div",{className:"column-container col-lg-3",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:"A\xf1o"})}),Object(C.jsx)("div",{className:"column-container col-lg-7",children:Object(C.jsx)("div",{className:"column-data  absolute-center",children:"Objeto"})})]}),Object(C.jsx)("div",{className:"list",children:this.state.contratos.map((function(s,a){return Object(C.jsxs)("div",{className:e.state.active,onClick:function(t){e.selectContract(t,s)},children:[Object(C.jsx)("div",{className:"column-container col-lg-1",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:s.contract_number})}),Object(C.jsx)("div",{className:"column-container col-lg-3",children:Object(C.jsx)("div",{className:"column-data absolute-center",children:s.year})}),Object(C.jsx)("div",{className:"column-container col-lg-7",children:Object(C.jsx)("div",{onMouseOver:function(t){e.showObject(t,s.object)},children:Object(C.jsx)(A.a,{transition:!1,ref:e.overLayRef,placement:"right",overlay:t(s),children:Object(C.jsx)("div",{variant:"success",className:"column-data elipsis absolute-center",children:s.object})})})})]},a)}))})]}):Object(C.jsxs)("div",{className:"list-container-search",children:[Object(C.jsx)("div",{className:"list-label",children:"Resultado de b\xfasqueda"}),Object(C.jsx)("div",{className:"list",children:Object(C.jsx)("h2",{className:"absolute-center",children:"No hay resultados"})})]})}),Object(C.jsx)("div",{className:"row h-10 align-items-center justify-content-center no-gutters",children:Object(C.jsx)("div",{className:"item-container col-lg-auto",children:Object(C.jsx)("div",{className:null===this.state.selectedContracts?"btn-add-contract inactive":"btn-add-contract",onClick:function(){if(null!==e.state.selectedContracts){var t="";y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Por favor elija el tipo de contrato.</div></div>',denyButtonColor:"#0A9B91",confirmButtonText:"Ejecuta",denyButtonText:"Suscribi\xf3",allowOutsideClick:!1,showDenyButton:!0,showCloseButton:!0}).then((function(s){if(s.isConfirmed)t="Ejecuta",(a=e.state.contratos).map((function(t,s){t.id===e.state.selectedContracts.id&&(a.splice(s,1),e.setState({contratos:a}))})),e.props.add(e.state.selectedContracts,t),e.setState({selectedContracts:null},e.setInactive());else if(s.isDenied){var a;t="Suscribio",(a=e.state.contratos).map((function(t,s){t.id===e.state.selectedContracts.id&&(a.splice(s,1),e.setState({contratos:a}))})),e.props.add(e.state.selectedContracts,t),e.setState({selectedContracts:null},e.setInactive())}}))}else y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Por favor seleccione un contrato de la lista.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0})},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Agregar contrato"})})})})]})})})})}}]),s}(a.Component),W=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.getUser=function(e){v.a.get(a.url+"get-admin/"+e).then((function(e){a.setState({user:e.data.data})}))},a.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(a.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para acceder a esta funcionalidad debe iniciar sesi\xf3n.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){a.props.history.push("/login")})):(a.getUser(e.data.data.id),a.connectSocket())}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Est\xe1 ingresando como usuario externo. Podr\xe1 visualizar, pero no editar informaci\xf3n.</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0})}))},a.getContractor=function(){v.a.get(a.url+"get-contractor/"+a.props.contractorId).then((function(e){a.setState({contractor:e.data.data},(function(){a.contractorData=a.state.contractor})),v.a.get(a.url+"get-contracts/"+a.state.contractor.id).then((function(e){a.setState({relatedContracts:e.data.data,loadedContracts:!0})}))}))},a.addContract=function(e,t){a.props.pdfData(e,t)},a.removeContract=function(e){a.passRemove.current.removeContract(e)},a.url=x.url,a.ws=x.ws,a.socket=null,a.contractorData=null,a.passRemove=c.a.createRef(),a.state={user:{name:"",pass:""},status:null,contractor:{},relatedContracts:[],loadedContracts:!1},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.getContractor()}},{key:"render",value:function(){var e=this.props.user;return Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("div",{className:"row content-user-data no-gutters",children:Object(C.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(C.jsx)("div",{className:"row h-10 align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del contratista"})}),Object(C.jsxs)("div",{className:"row h-25 mh-35 align-items-center",children:[Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Nombre"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.name})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Correo"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.email})})]})]}),Object(C.jsxs)("div",{className:"row h-25 mh-35 align-items-center",children:[Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Identificaci\xf3n"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.identification})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Tel\xe9fono"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.telephone})})]})]})]})}),void 0!==e&&null!==e&&Object(C.jsx)("div",{className:"row contract-list-container no-gutters",children:this.state.loadedContracts&&Object(C.jsx)(M,{ref:this.passRemove,add:this.addContract,contractsRelated:this.state.relatedContracts})})]})}}]),s}(a.Component),U=(s(483),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.getUser=function(e){v.a.get(a.url+"get-admin/"+e).then((function(e){a.setState({user:e.data.data})}))},a.getPayroll=function(){v.a.get(a.url+"get-payroll/"+a.props.payrollId).then((function(e){a.setState({payroll:e.data.data}),v.a.get(a.url+"get-dependency/"+a.state.payroll.dependency).then((function(e){a.setState({dependencia:e.data.data.name})}))}))},a.url=x.url,a.ws=x.ws,a.socket=null,a.state={user:{name:"",pass:""},status:null,payroll:{},dependencia:""},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.getPayroll()}},{key:"render",value:function(){return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"row content-user-data no-gutters",children:Object(C.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(C.jsx)("div",{className:"row h-10 align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n n\xf3mina"})}),Object(C.jsxs)("div",{className:"row h-60 mh-90 align-items-center",children:[Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Nombre"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.name})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Apellido"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsxs)("div",{className:"text-data absolute-center",children:[this.state.payroll.first_surname," ",this.state.payroll.second_surname]})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Identificaci\xf3n"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.identification})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Expedici\xf3n"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.expedition_place})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Salario"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.salary})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Dependencia"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"text-data absolute-center",children:this.state.dependencia})})]})]})]})})})}}]),s}(a.Component)),H=s(6),Q=s.p+"static/media/Roboto-Regular.a8d6ac03.ttf",Y=s.p+"static/media/Roboto-Bold.75371f53.ttf",Z=s(338),J=s.n(Z),$=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).newStateRef=c.a.createRef(),a.generateQrCode=function(){var e=Object(h.a)(b.a.mark((function e(t){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,J.a.toDataURL(a.urlFront+"new-details/"+t);case 3:s=e.sent,a.formQR=s,e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),a.dateFormat=function(e,t){var s={},c=e.getMonth(),i=e.getFullYear(),n=e.getDay(),r=e.getDate();return s.year=i,s.monthString=a.setMonth(c),s.calendarDay=r,s.dayString=a.setDay(n),s.dayCalendarString=a.decenas(r),t&&"un"===s.dayCalendarString&&(s.dayCalendarString="primero"),s},a.setMonth=function(e){var t;switch(e){case 0:t="Enero";break;case 1:t="Febrero";break;case 2:t="Marzo";break;case 3:t="Abril";break;case 4:t="Mayo";break;case 5:t="Junio";break;case 6:t="Julio";break;case 7:t="Agosto";break;case 8:t="Septiembre";break;case 9:t="Octubre";break;case 10:t="Noviembre";break;case 11:t="Diciembre"}return t},a.setDay=function(e){var t;switch(e){case 0:t="Domingo";break;case 1:t="Lunes";break;case 2:t="Martes";break;case 3:t="Mi\xe9rcoles";break;case 4:t="Jueves";break;case 5:t="Viernes";break;case 6:t="S\xe1bado"}return t},a.decenas=function(e){var t=Math.floor(e/10),s=e-10*t;switch(t){case 1:switch(s){case 0:return"diez";case 1:return"once";case 2:return"doce";case 3:return"trece";case 4:return"catorce";case 5:return"quince";default:return"dieci"+a.unidades(s)}case 2:switch(s){case 0:return"veinte";default:return"veinti"+a.unidades(s)}case 3:return a.decenasY("treinta",s);case 4:return a.decenasY("cuarenta",s);case 5:return a.decenasY("cincuenta",s);case 6:return a.decenasY("sesenta",s);case 7:return a.decenasY("setenta",s);case 8:return a.decenasY("ochenta",s);case 9:return a.decenasY("noventa",s);case 0:return a.unidades(s)}},a.decenasY=function(e,t){return t>0?e+" y "+a.unidades(t):e},a.unidades=function(e){switch(e){case 1:return"un";case 2:return"dos";case 3:return"tres";case 4:return"cuatro";case 5:return"cinco";case 6:return"seis";case 7:return"siete";case 8:return"ocho";case 9:return"nueve"}return""},a.viewPrevPDf=function(){v()({method:"POST",data:a.state.form,url:a.url+"download-prev-stamp",responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),s=URL.createObjectURL(t);window.innerWidth>=768?window.open(s,"v-pdf"):(window.open(s),a.setState({blobPDF:!1}))})).catch((function(e){console.log(e)}))},a.prevBlobPDF=function(){var e=Object(h.a)(b.a.mark((function e(t,s,c){var i,n,r,l,o,d;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=a.state.pdfValues,1===t?(n=a.userData.current.state.payroll,l=new Date,a.date=new Date(n.admission_date),a.date=a.dateFormat(a.date,1),o=a.dateFormat(l,0),n.fecha=a.date,n.today=o,n.observations=null!==s.current?s.current.value:"",i.pdfName=a.state.form.id+n.name+".pdf",i.formId=a.state.form.id,r={user:n,contracts:"",data:t},i.pdfInfo=r,i.qr=a.formQR,d={id:a.state.form.id,pdf_string:a.state.form.id+n.name+".pdf"},v.a.post(a.url+"create-pdf",a.state.pdfValues).then((function(e){v.a.put(a.url+"add-stamp",d).then((function(e){a.setState({pdfString:d.pdf_string},(function(){c.data=a.state.pdfString,v.a.post(a.url+"mail",c).then((function(e){a.updateForm(),a.backToNews()}))}))}))}))):0===t&&(n=a.contractorRef.current.contractorData,r={user:n,contracts:a.state.contratos,data:t},i.pdfInfo=r,i.pdfName=a.state.form.id+n.name+".pdf",i.formId=a.state.form.id,i.qr=a.formQR,d={id:a.state.form.id,pdf_string:a.state.form.id+n.name+".pdf"},v.a.post(a.url+"create-pdf",a.state.pdfValues).then((function(e){v.a.put(a.url+"add-stamp",d).then((function(e){a.setState({pdfString:d.pdf_string},(function(){c.data=a.state.pdfString,c.qr=a.formQR,v.a.post(a.url+"mail",c).then((function(e){a.updateForm(),a.backToNews()}))}))}))})));case 2:case"end":return e.stop()}}),e)})));return function(t,s,a){return e.apply(this,arguments)}}(),a.prevPdfObjectFunc=function(e){a.prevBlobPDF(a.state.form.request_type,null===a.passDataPayroll.current?"":a.passDataPayroll.current.observData,e).then((function(){}))},a.prevPDF=function(){var e=Object(h.a)(b.a.mark((function e(t,s){var c,i,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a.setState({prevPdfState:!0}),1===t?(c=a.userData.current.state.payroll,i=new Date,a.date=new Date(c.admission_date),a.date.setDate(a.date.getDate()+1),a.date=a.dateFormat(a.date,1),r=a.dateFormat(i,0),c.fecha=a.date,c.today=r,c.observations=null!==s.current?s.current.value:"",a.setState({previewPDF:!0},(function(){var e=function(){return Object(C.jsx)(H.Document,{children:Object(C.jsxs)(H.Page,{size:"A4",style:a.styles.page,children:[Object(C.jsxs)(H.View,{fixed:!0,style:a.styles.header,children:[Object(C.jsxs)(H.View,{style:a.styles.left,children:[Object(C.jsx)(H.View,{children:Object(C.jsx)(H.Image,{style:a.styles.metrolineaImage,src:p})}),Object(C.jsx)(H.Text,{style:a.styles.text1,children:"Nit.830.507.387-3"})]}),Object(C.jsx)(H.View,{style:a.styles.rigth,children:Object(C.jsx)(H.View,{style:a.styles.fo,children:Object(C.jsx)(H.Text,{style:a.styles.text2,children:"20-23.1.1.F0"})})})]}),Object(C.jsxs)(H.View,{style:a.styles.body,children:[Object(C.jsx)(H.View,{style:a.styles.mainTitle,children:Object(C.jsx)(H.Text,{style:a.styles.title,children:"Constancia"})}),Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsx)(H.Text,{style:a.styles.justifyP,children:"La suscrita Profesional Universitario I Talento Humano, de la Sociedad Metrolinea S. A. hace constar que:"})}),Object(C.jsxs)(H.View,{children:[Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsxs)(H.Text,{style:a.styles.boldP,children:[c.name," ",c.first_surname," ",c.second_surname,", identificado con la c\xe9dula de ciudadan\xeda No. ",c.identification," expedida en ",c.expedition_place,", labora en esta empresa desde el d\xeda  ",c.fecha.dayCalendarString," (",c.fecha.calendarDay,") de ",c.fecha.monthString," de ",c.fecha.year,", mediante contrato a t\xe9rmino ",c.contract_name,", en el cargo de ",c.job_name,", de la Sociedad Metrolinea S. A."]})}),Object(C.jsx)(H.View,{style:a.styles.contractData,children:Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"Salario:"}),Object(C.jsxs)(H.Text,{style:a.styles.col2,children:["$",c.salary]})]})})]}),Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsxs)(H.Text,{style:a.styles.justifyP,children:["Se expide a solicitud del interesado, en la ciudad de Bucaramanga a ",c.today.dayCalendarString," (",c.today.calendarDay,") d\xeda(s) del mes de ",c.today.monthString," de ",c.today.year,". Se adhiere y anula el recibo de compra de estampilla Pro Hospitales por valor de tres mil pesos m/cte. ($3.000) y Ordenanza por valor de Trescientos pesos mcte ($300)."]})}),""!==c.observations&&Object(C.jsxs)(H.View,{children:[Object(C.jsxs)(H.View,{style:a.styles.fullWidthText,children:[Object(C.jsx)(H.Text,{style:a.styles.boldC,children:"Observaciones:"}),Object(C.jsx)(H.Text,{style:a.styles.justifyP,children:c.observations})]}),Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsx)(H.Text,{style:a.styles.justifyP,children:"Cordialmente,"})})]}),Object(C.jsxs)(H.View,{style:a.styles.qrContainer,children:[Object(C.jsx)(H.View,{style:a.styles.mainTitle,children:Object(C.jsx)(H.Text,{style:a.styles.title,children:"QR del certificado"})}),Object(C.jsx)(H.Image,{style:a.styles.metrolineaQR,src:a.formQR})]})]}),Object(C.jsx)(H.View,{fixed:!0,style:a.styles.footer,children:Object(C.jsxs)(H.View,{style:a.styles.footerContent,children:[Object(C.jsx)(H.View,{style:a.styles.footerTextContainer,children:Object(C.jsx)(H.Text,{style:a.styles.footerText,children:"Autopista Floridablanca N\xb0 86-30, Estaci\xf3n Provenza Occidental, Barrio Diamante II"})}),Object(C.jsx)(H.View,{style:a.styles.footerTextContainer,children:Object(C.jsx)(H.Text,{style:a.styles.footerText,children:"Tel\xe9fono: 6929824 Bucaramanga."})}),Object(C.jsx)(H.View,{style:a.styles.footerTextContainer,children:Object(C.jsx)(H.Link,{src:"www.metrolinea.gov.co",style:a.styles.footerText,children:"www.metrolinea.gov.co"})})]})})]})})};window.innerWidth>=768?n.a.render(Object(C.jsx)(H.PDFViewer,{children:Object(C.jsx)(e,{})}),document.getElementById("viewer"),Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))):H.BlobProvider}))):0===t&&(c=a.contractorRef.current.contractorData,a.setState({previewPDF:!0},(function(){var e=function(){return Object(C.jsx)(H.Document,{children:Object(C.jsxs)(H.Page,{size:"A4",style:a.styles.page,children:[Object(C.jsxs)(H.View,{fixed:!0,style:a.styles.header,children:[Object(C.jsxs)(H.View,{style:a.styles.left,children:[Object(C.jsx)(H.View,{children:Object(C.jsx)(H.Image,{style:a.styles.metrolineaImage,src:p})}),Object(C.jsx)(H.Text,{style:a.styles.text1,children:"Nit.830.507.387-3"})]}),Object(C.jsx)(H.View,{style:a.styles.rigth,children:Object(C.jsx)(H.View,{style:a.styles.fo,children:Object(C.jsx)(H.Text,{style:a.styles.text2,children:"20-23.1.1.F0"})})})]}),Object(C.jsxs)(H.View,{style:a.styles.body,children:[Object(C.jsx)(H.View,{style:a.styles.mainTitle,children:Object(C.jsx)(H.Text,{style:a.styles.title,children:"Constancia"})}),Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsx)(H.Text,{style:a.styles.justifyP,children:"La suscrita Profesional Universitario I Talento Humano, de la Sociedad Metrolinea S. A. hace constar que:"})}),a.state.contratos.ejecuta.length>=1&&Object(C.jsxs)(H.View,{children:[Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsxs)(H.Text,{style:a.styles.boldP,children:[c.name,", identificado con la c\xe9dula de ciudadan\xeda No. ",c.identification," , ejecuta con Metrol\xednea S.A., el siguiente CONTRATO DE PRESTACION DE SERVICIOS PROFESIONALES:"]})}),Object(C.jsx)(H.View,{children:a.state.contratos.ejecuta.map((function(e,t){var s,c;return s=new Date(e.date),c=new Date(e.finish_date),s=s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear(),c=c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear(),a.state.contratos.ejecuta[t].fDate=c,a.state.contratos.ejecuta[t].bDate=s,Object(C.jsxs)(H.View,{style:a.styles.contractData,children:[Object(C.jsx)(H.View,{style:a.styles.contractTitle,children:Object(C.jsxs)(H.Text,{style:a.styles.boldC,children:[e.contract_name," No. ",e.contract_number," de ",e.year]})}),Object(C.jsxs)(H.View,{style:a.styles.fullWidthText,children:[Object(C.jsx)(H.Text,{style:a.styles.boldC,children:"OBJETO:"}),Object(C.jsx)(H.Text,{style:a.styles.boldP,children:e.object})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"VALOR DEL CONTRATO:"}),Object(C.jsxs)(H.Text,{style:a.styles.col2,children:[e.value_string,"($",e.value,")"]})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"PLAZO DE CONTRATO:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.execution_time})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"INTERVENTOR:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.supervisor_name})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"FECHA DE INICIO:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.bDate})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"FECHA DE TERMINACI\xd3N:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.fDate})]}),""!==e.details&&Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"DETALLES:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.details})]})]})}))})]}),a.state.contratos.suscribio.length>=1&&Object(C.jsxs)(H.View,{children:[Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsxs)(H.Text,{style:a.styles.boldP,children:[c.name,", identificado con la c\xe9dula de ciudadan\xeda No. ",c.identification,", suscribi\xf3 con Metrol\xednea S.A., el siguiente CONTRATO DE PRESTACION DE SERVICIOS PROFESIONALES:"]})}),a.state.contratos.suscribio.map((function(e,t){var s,c;return s=new Date(e.date),c=new Date(e.finish_date),s=s.getDate()+"-"+(s.getMonth()+1)+"-"+s.getFullYear(),c=c.getDate()+"-"+(c.getMonth()+1)+"-"+c.getFullYear(),a.state.contratos.suscribio[t].fDate=c,a.state.contratos.suscribio[t].bDate=s,Object(C.jsxs)(H.View,{style:a.styles.contractData,Key:t,children:[Object(C.jsx)(H.View,{style:a.styles.contractTitle,children:Object(C.jsxs)(H.Text,{style:a.styles.boldC,children:[e.contract_name," No. ",e.contract_number," de ",e.year]})}),Object(C.jsx)(H.View,{style:a.styles.fullWidthText,children:Object(C.jsxs)(H.Text,{style:a.styles.boldC,children:["OBJETO: ",e.object]})}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"VALOR DEL CONTRATO:"}),Object(C.jsxs)(H.Text,{style:a.styles.col2,children:[e.value_string,"($",e.value,")"]})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"PLAZO DE CONTRATO:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.execution_time})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"INTERVENTOR:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.supervisor_name})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"FECHA DE INICIO:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.bDate})]}),Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"FECHA DE TERMINACI\xd3N:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.fDate})]}),""!==e.details&&Object(C.jsxs)(H.View,{style:a.styles.flexRow,children:[Object(C.jsx)(H.Text,{style:a.styles.col1,children:"DETALLES:"}),Object(C.jsx)(H.Text,{style:a.styles.col2,children:e.details})]})]})}))]}),Object(C.jsxs)(H.View,{style:a.styles.qrContainer,children:[Object(C.jsx)(H.View,{style:a.styles.mainTitle,children:Object(C.jsx)(H.Text,{style:a.styles.title,children:"QR del certificado"})}),Object(C.jsx)(H.Image,{style:a.styles.metrolineaQR,src:a.formQR})]})]}),Object(C.jsx)(H.View,{fixed:!0,style:a.styles.footer,children:Object(C.jsxs)(H.View,{style:a.styles.footerContent,children:[Object(C.jsx)(H.View,{style:a.styles.footerTextContainer,children:Object(C.jsx)(H.Text,{style:a.styles.footerText,children:"Autopista Floridablanca N\xb0 86-30, Estaci\xf3n Provenza Occidental, Barrio Diamante II"})}),Object(C.jsx)(H.View,{style:a.styles.footerTextContainer,children:Object(C.jsx)(H.Text,{style:a.styles.footerText,children:"Tel\xe9fono: 6929824 Bucaramanga."})}),Object(C.jsx)(H.View,{style:a.styles.footerTextContainer,children:Object(C.jsx)(H.Link,{src:"www.metrolinea.gov.co",style:a.styles.footerText,children:"www.metrolinea.gov.co"})})]})})]})})};window.innerWidth>=768?n.a.render(Object(C.jsx)(H.PDFViewer,{children:Object(C.jsx)(e,{})}),document.getElementById("viewer"),Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))):H.BlobProvider})));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),a.getUser=function(e){v.a.get(a.url+"get-admin/"+e).then((function(e){a.setState({user:e.data.data})}))},a.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(a.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Est\xe1 ingresando como usuario externo. Podr\xe1 visualizar, pero no editar informaci\xf3n.</div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){a.props.history.push("/login")})):(a.getUser(e.data.data.id),a.connectSocket())}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Est\xe1 ingresando como usuario externo. Podr\xe1 visualizar, pero no editar informaci\xf3n.</div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){}))}))},a.backToNews=function(){a.props.history.push("/news")},a.connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.setCheckedSocket=function(e){a.socket.emit("set-checked-news",e.data.data)},a.setUncheckedSocket=function(e){a.socket.emit("set-unchecked-news",e.data.data)},a.setCheckedForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(a.url+"get-checked-forms").then((function(e){a.setCheckedSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),a.setForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(a.url+"get-unchecked-forms").then((function(e){a.setUncheckedSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),a.updateDataState=function(e){a.newStateRef=e,1===a.newStateRef?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">\xbfEst\xe1s seguro?</div></div>',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, certificar",cancelButtonText:"Cancelar",showCloseButton:!0}).then(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&(y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Se ha enviado la certificaci\xf3n</div></div>',denyButtonColor:"#0A9B91",confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}),a.mailForm.email=a.state.form.email,a.mailForm.name=a.state.form.name,a.mailForm.mailState=1,a.mailForm.data=a.state.pdfString,a.mailForm.id=a.state.form.id,a.prevPdfObjectFunc(a.mailForm));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Especifique el motivo del rechazo de la solicitud.</div></div><textarea id=input-detail maxLength="250" pattern="^[a-zA-Z ,.-]+" ></textarea>',denyButtonColor:"#0A9B91",confirmButtonText:"Enviar rechazo",allowOutsideClick:!1,showCloseButton:!0}).then((function(e){var t=document.getElementById("input-detail").value;""!==t?e.isConfirmed&&y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Este proceso es irreversible, se rechazar\xe1 la petici\xf3n de forma permanente.</p></div></div>',confirmButtonText:"Rechazar",denyButtonText:"Cancelar",denyButtonColor:"#0A9B91",showDenyButton:!0,allowOutsideClick:!1,showCloseButton:!0}).then((function(e){e.isConfirmed&&(a.updateForm(t),a.mailForm.email=a.state.form.email,a.mailForm.name=a.state.form.name,a.mailForm.pdf={},a.mailForm.mailState=0,a.mailForm.denied=a.state.form.observations,a.mailForm.id=a.state.form.id,v.a.post(a.url+"mail",a.mailForm).then((function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>La solicitud ha sido rechazada.</p></div></div>',confirmButtonText:"Seguir",denyButtonColor:"#0A9B91",showDenyButton:!0,allowOutsideClick:!1,showCloseButton:!0}).then((function(e){a.backToNews()}))})))})):y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para completar el proceso debe especificar el motivo de rechazo.</p></div></div>',confirmButtonText:"Seguir",denyButtonText:"Cancelar",denyButtonColor:"#0A9B91",showDenyButton:!0,allowOutsideClick:!1,showCloseButton:!0}).then((function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Especifique el motivo del rechazo de la solicitud.</div></div><textarea id=input-detail maxLength="250" pattern="^[a-zA-Z ,.-]+"></textarea>',denyButtonColor:"#0A9B91",confirmButtonText:"Enviar rechazo",allowOutsideClick:!1,showCloseButton:!0}).then((function(e){if(""!==(t=document.getElementById("input-detail").value)){if(e.isConfirmed){var t=document.getElementById("input-detail").value;y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Este proceso es irreversible, se rechazar\xe1 la petici\xf3n de forma permanente.</p></div></div>',confirmButtonText:"Rechazar",denyButtonText:"Cancelar",denyButtonColor:"#0A9B91",showDenyButton:!0,allowOutsideClick:!1,showCloseButton:!0}).then((function(e){e.isConfirmed&&(a.updateForm(t),a.mailForm.email=a.state.form.email,a.mailForm.name=a.state.form.name,a.mailForm.pdf={},a.mailForm.mailState=0,a.mailForm.denied=a.state.form.observations,a.mailForm.id=a.state.form.id,v.a.post(a.url+"mail",a.mailForm).then((function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>La solicitud ha sido rechazada.</p></div></div>',confirmButtonText:"Seguir",denyButtonColor:"#0A9B91",showDenyButton:!0,allowOutsideClick:!1,showCloseButton:!0}).then((function(e){a.backToNews()}))})))}))}}else y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Debe especificar el motivo de rechazo.</p></div></div>',confirmButtonText:"Seguir",denyButtonColor:"#0A9B91",showDenyButton:!0,allowOutsideClick:!1,showCloseButton:!0}).then((function(e){}))}))}))}))},a.updateForm=function(e){var t=a.state.form;t.state=a.newStateRef,t.checked=1,t.observations=e,t.admin_id=a.state.user.id,v.a.put(a.url+"/update-form",t).then((function(e){a.setCheckedForms(),a.setForms()}))},a.getPdf=function(){v()({method:"POST",data:a.state.form,url:a.url+"/download-stamp",responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),s=URL.createObjectURL(t);window.innerWidth>=768?window.open(s,"theFrame"):(window.open(s),a.setState({showPdf:!1}))})).catch((function(e){console.log(e)}))},a.getFormById=function(e){v.a.get(a.url+"get-form/"+e).then((function(e){a.setState({form:e.data.data[0],status:"success"})}))},a.addContract=function(e,t){a.passData.current.addContract(e,t),a.setState({contratos:a.passData.current.state.contratos})},a.removeContract=function(e,t){a.contractorRef.current.removeContract(e),a.setState({contratos:a.passData.current.state.contratos})},H.Font.register({family:"Roboto",src:Q}),H.Font.register({family:"Roboto-Bold",src:Y}),a.date=null,a.passData=c.a.createRef(),a.passDataPayroll=c.a.createRef(),a.payRollRef=c.a.createRef(),a.contractorRef=c.a.createRef(),a.userData=c.a.createRef(),a.mailForm={},a.paramId=a.props.match.params.id,a.url=x.url,a.urlFront=x.url_front,a.ws=x.ws,a.socket=null,a.styles=H.StyleSheet.create({page:{backgroundColor:"white",padding:"20px 25px 80px 25px",width:"100%",height:"100%",position:"relative"},section:{margin:10,padding:10,flexGrow:1},metrolineaImage:{width:"120px",height:"100px",backgroundSize:"100%"},qrContainer:{position:"relative",height:"200px",width:"100%"},metrolineaQR:{width:"120px",height:"120px",backgroundSize:"100%",position:"absolute",transform:"translate(-50%, 0)",left:"50%",top:"40px"},header:{display:"flex",flexDirection:"row",height:"80px",borderBottom:"1px solid yellow",marginBottom:"10px"},body:{height:"auto",width:"100%",padding:"0 50px"},footer:{height:"100%",width:"100%",position:"absolute",top:"80px",left:"25px"},footerContent:{position:"absolute",height:"60px",width:"100%",bottom:"0",left:"0",borderTop:"1px solid yellow",paddingTop:"10px"},left:{margin:10,padding:10,flexGrow:1},rigth:{margin:10,padding:10,flexGrow:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},text1:{fontSize:"10px"},text2:{fontSize:"13px",fontFamily:"Roboto-Bold"},fo:{textAlign:"right",fontSize:"14px",width:"80px",height:"20px"},title:{textAlign:"center",padding:"10px 0",textTransform:"uppercase",fontFamily:"Roboto-Bold"},justifyP:{textAlign:"justify",fontSize:"14px",marginBottom:"10px"},boldP:{display:"inline-block",fontFamily:"Roboto",fontWeight:"bold",fontSize:"14px",float:"left",textAlign:"justify"},flexRow:{width:"100%",flexDirection:"row",fontSize:"14px",marginBottom:"5px",marginTop:"5px"},col1:{width:"40%",fontSize:"13px",fontFamily:"Roboto-Bold"},col2:{width:"60%",textAlign:"justify"},fullWidthText:{marginBottom:"10px",marginTop:"10px"},contractTitle:{marginTop:"10px"},footerText:{textAlign:"center",fontSize:"10px"},footerTextContainer:{height:"10px",flexGrow:"1"},contractData:{marginBottom:"10px"},boldC:{display:"inline-block",fontFamily:"Roboto-Bold",fontSize:"14px",textAlign:"justify"}}),a.state={form:{},status:null,user:null,formQR:null,showPdf:!1,prevPdfState:!1,previewPDF:!1,prevPdfObject:null,blobPDF:!1,pdfValues:{formId:0,pdfInfo:{},pdfName:""},pdfString:"",removedContract:{},contratos:{ejecuta:[],suscribio:[]}},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.getFormById(this.paramId),this.veryfyUserSesion(),this.generateQrCode(this.paramId)}},{key:"render",value:function(){var e=this,t=function(){if(null!==e.state.user)return r?Object(C.jsx)("div",{className:"row bg-title",children:Object(C.jsx)("div",{className:"absolute-center bg-title-label",children:"A\xf1adir observaciones"})}):Object(C.jsx)("div",{className:"row bg-title",children:Object(C.jsx)("div",{className:"absolute-center bg-title-label",children:"A\xf1adir contratos"})})},s=function(t){return t?Object(C.jsx)("div",{className:"btn-aprove",onClick:function(){e.setState({blobPDF:!0})},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Ver certificado"})}):Object(C.jsxs)("div",{className:"row reject-observations",children:[Object(C.jsx)("div",{className:"observation-title-container col-lg-12 h-20",children:Object(C.jsx)("div",{className:"absolute-center bg-title-label",children:"Motivo de rechazo"})}),Object(C.jsx)("div",{className:"observation col-lg-12 h-80",children:Object(C.jsx)("div",{className:"observation-data",children:Object(C.jsx)("div",{className:"input-text",children:e.state.form.observations})})})]})};if(null!==this.state.user){if(void 0!==this.state.form.id&&null!==this.state.form.id){var a=null,i=!0,n="item-detail-container",r=1===this.state.form.request_type;return 1===this.state.form.state?(a=!0,n="item-detail-container certified"):0===this.state.form.state?(a=!1,n="item-detail-container rejected"):i=!1,Object(C.jsx)(c.a.Fragment,{children:Object(C.jsxs)("div",{className:n,children:[Object(C.jsxs)("div",{className:"row container-top no-gutters justify-content-center",children:[Object(C.jsx)("div",{className:"item-detail col-lg-6",children:Object(C.jsxs)("div",{className:"row content-user-data no-gutters",children:[Object(C.jsxs)("div",{className:"col-lg-12 h-100 align-items-center",children:[Object(C.jsx)("div",{className:"row h-10 align-items-center  justify-content-center",children:Object(C.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del formulario"})}),Object(C.jsxs)("div",{className:"row h-40 align-items-center  justify-content-center",children:[Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Nombre"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.name})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Correo"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.email})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Identificaci\xf3n"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.identification})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Tel\xe9fono"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.telephone})})]})]}),Object(C.jsxs)("div",{className:"row h-50 align-items-center  justify-content-center",children:[Object(C.jsxs)("div",{className:"item-container area col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Contenido"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center text-area",children:this.state.form.content})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"PDF"}),Object(C.jsx)("div",{className:"btn-pdf",onClick:function(){return e.setState({showPdf:!0})},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Ver estampilla"})})]})]})]}),Object(C.jsxs)(q.a,{show:this.state.showPdf,onShow:this.getPdf,onHide:function(){return e.setState({showPdf:!1})},children:[Object(C.jsx)(q.a.Header,{closeButton:!0,children:Object(C.jsx)(q.a.Title,{children:"Estampilla"})}),Object(C.jsx)(q.a.Body,{children:Object(C.jsx)("div",{className:"pdf-viewer",children:Object(C.jsx)("iframe",{name:"theFrame"})})})]}),Object(C.jsxs)(q.a,{show:this.state.previewPDF,onShow:this.prevPDF,onHide:function(){return e.setState({previewPDF:!1})},children:[Object(C.jsx)(q.a.Header,{closeButton:!0,children:Object(C.jsx)(q.a.Title,{children:"Visualizador del PDF"})}),Object(C.jsx)(q.a.Body,{children:Object(C.jsx)("div",{className:"pdf-viewer",children:Object(C.jsx)("div",{id:"viewer"})})})]}),Object(C.jsxs)(q.a,{show:this.state.blobPDF,onShow:this.viewPrevPDf,onHide:function(){return e.setState({blobPDF:!1})},children:[Object(C.jsx)(q.a.Header,{closeButton:!0,children:Object(C.jsx)(q.a.Title,{children:"Visualizador del PDF"})}),Object(C.jsx)(q.a.Body,{children:Object(C.jsx)("div",{className:"pdf-viewer",children:Object(C.jsx)("iframe",{name:"v-pdf"})})})]})]})}),Object(C.jsx)("div",{className:"user-data-container col-lg-6",children:r?Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"content-payroll-data",children:Object(C.jsx)(U,{payrollId:this.state.form.identification,ref:this.userData,user:this.state.user})})}):Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"content-contractor-data",children:Object(C.jsx)(W,{contractorId:this.state.form.identification,pdfData:this.addContract,addedContract:this.state.addedContract,ref:this.contractorRef,user:this.state.user})})})})]}),this.state.form.checked?s(this.state.form.state):t(),Object(C.jsxs)("div",{className:"row container-bottom no-gutters justify-content-center",children:[!i&&r&&Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"col-lg-12",children:Object(C.jsx)("div",{className:"content-create-pdf h-90",children:Object(C.jsx)(z,{contractData:this.state.addedContract,ref:this.passDataPayroll,prev:this.prevPDF,pdfPrev:this.viewPrevPDf,user:this.state.user})})})}),!i&&!r&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("div",{className:"col-lg-6",children:Object(C.jsx)("div",{className:"content-create-pdf h-90",children:Object(C.jsx)(L,{contractData:this.state.addedContract,ref:this.passData,remove:this.removeContract,prev:this.prevPDF,pdfPrev:this.viewPrevPDf,user:this.state.user})})}),Object(C.jsx)("div",{className:"col-lg-6"})]})]}),Object(C.jsxs)("div",{className:"row options-buttons align-items-center justify-content-center",children:[a&&i&&Object(C.jsx)("div",{className:"btn-aprove disabled active",children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Certificado"})}),!a&&i&&Object(C.jsx)("div",{className:"btn-deny disabled active",children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Rechazado"})}),!i&&Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("div",{className:"btn-aprove",onClick:function(){e.updateDataState(1)},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Certificar"})}),Object(C.jsx)("div",{className:"col-lg-2 separator"}),Object(C.jsx)("div",{className:"btn-deny",onClick:function(){e.updateDataState(0)},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Rechazar"})})]})]}),Object(C.jsx)("div",{className:"back-container",children:Object(C.jsx)("div",{className:"btn-back",onClick:this.backToNews,children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Volver"})})})]})})}return void 0===this.state.form&&"success"===this.state.status?Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("h1",{children:" no hay Formularios con este id"})}):Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("h1",{children:" Cargando espera mientras carga"})})}return void 0!==this.state.form.id&&null!==this.state.form.id?(a=null,i=!0,r=1===this.state.form.request_type,1===this.state.form.state?a=!0:0===this.state.form.state?a=!1:i=!1,Object(C.jsx)(c.a.Fragment,{children:Object(C.jsxs)("div",{className:a?"item-detail-container":"item-detail-container rejected",children:[Object(C.jsxs)("div",{className:"row external-user container-top no-gutters justify-content-center",children:[Object(C.jsx)("div",{className:"item-detail col-lg-6",children:Object(C.jsxs)("div",{className:"row content-user-data no-gutters",children:[Object(C.jsxs)("div",{className:"col-lg-12 h-100 align-items-center",children:[Object(C.jsx)("div",{className:"row h-10 align-items-center  justify-content-center",children:Object(C.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del formulario"})}),Object(C.jsxs)("div",{className:"row h-40 align-items-center  justify-content-center",children:[Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Nombre"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.name})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Correo"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.email})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Identificaci\xf3n"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.identification})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Tel\xe9fono"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.telephone})})]})]}),Object(C.jsxs)("div",{className:"row h-50 align-items-center  justify-content-center",children:[Object(C.jsxs)("div",{className:"item-container area col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"Contenido"}),Object(C.jsx)("div",{className:"item-data",children:Object(C.jsx)("div",{className:"input-text absolute-center",children:this.state.form.content})})]}),Object(C.jsxs)("div",{className:"item-container col-lg-12",children:[Object(C.jsx)("div",{className:"item-label",children:"PDF"}),Object(C.jsx)("div",{className:"btn-pdf",onClick:function(){return e.setState({showPdf:!0})},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Ver estampilla"})})]})]})]}),Object(C.jsxs)(q.a,{show:this.state.showPdf,onShow:this.getPdf,onHide:function(){return e.setState({showPdf:!1})},children:[Object(C.jsx)(q.a.Header,{closeButton:!0,children:Object(C.jsx)(q.a.Title,{children:"Estampilla"})}),Object(C.jsx)(q.a.Body,{children:Object(C.jsx)("div",{className:"pdf-viewer",children:Object(C.jsx)("iframe",{name:"theFrame"})})})]}),Object(C.jsxs)(q.a,{show:this.state.previewPDF,onShow:this.prevPDF,onHide:function(){return e.setState({previewPDF:!1})},children:[Object(C.jsx)(q.a.Header,{closeButton:!0,children:Object(C.jsx)(q.a.Title,{children:"Visualizador del PDF"})}),Object(C.jsx)(q.a.Body,{children:Object(C.jsx)("div",{className:"pdf-viewer",children:Object(C.jsx)("div",{id:"viewer"})})})]}),Object(C.jsxs)(q.a,{show:this.state.blobPDF,onShow:this.viewPrevPDf,onHide:function(){return e.setState({blobPDF:!1})},children:[Object(C.jsx)(q.a.Header,{closeButton:!0,children:Object(C.jsx)(q.a.Title,{children:"Visualizador del PDF"})}),Object(C.jsx)(q.a.Body,{children:Object(C.jsx)("div",{className:"pdf-viewer",children:Object(C.jsx)("iframe",{name:"v-pdf"})})})]})]})}),Object(C.jsx)("div",{className:"user-data-container col-lg-6",children:r?Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"content-payroll-data",children:Object(C.jsx)(U,{payrollId:this.state.form.identification,ref:this.userData})})}):Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"content-contractor-data",children:Object(C.jsx)(W,{contractorId:this.state.form.identification,pdfData:this.addContract,addedContract:this.state.addedContract,ref:this.contractorRef,user:this.state.user})})})})]}),Object(C.jsx)("div",{className:"row container-bottom no-gutters justify-content-center"}),this.state.form.checked?s(this.state.form.state):t(),Object(C.jsxs)("div",{className:"row options-buttons align-items-center justify-content-center",children:[a&&i&&Object(C.jsx)("div",{className:"btn-aprove disabled active",children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Certificado"})}),!a&&i&&Object(C.jsx)("div",{className:"btn-deny disabled active",children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Rechazado"})}),!i&&Object(C.jsx)("div",{className:"btn-aprove disabled active",children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"En revisi\xf3n"})})]})]})})):void 0===this.state.form&&"success"===this.state.status?Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("h1",{children:" no hay Formularios con este id"})}):Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("h1",{children:" Cargando espera mientras carga"})})}}]),s}(a.Component),G=(s(817),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.setSocket=function(e){},a.redirect=function(e){1===e?a.props.history.push("/login"):a.props.history.push("/form")},a.url=x.url,a.ws=x.ws,a.socket=null,a.state={user:{name:"",email:"",identification:"",telephone:""},stamp:null,status:null},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){var e=this;return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"container-home row h-100 align-items-center justify-content-center",children:Object(C.jsxs)("div",{className:"content-container-home",children:[Object(C.jsx)("div",{className:"row h-25 no-gutters align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"form-logo",children:Object(C.jsx)("img",{className:"login-logo",src:p,alt:"imagen de metrolinea"})})}),Object(C.jsx)("div",{className:"row h-15 no-gutters align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"col-lg-12 align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"home-title-color absolute-center",children:"Bienvenido al asistente"})})}),Object(C.jsx)("div",{className:"row h-15 no-gutters align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"col-lg-12 align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"home-description absolute-center",children:"Acceda para solicitar carta laboral o inicie sesi\xf3n para comenzar la administracion de cartas laborales."})})}),Object(C.jsx)("div",{className:"row h-20 no-gutters align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"content admin",children:Object(C.jsx)("div",{className:"btn-login",onClick:function(){e.redirect(1)},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Inicia sesi\xf3n"})})})}),Object(C.jsx)("div",{className:"row h-20 no-gutters align-items-center justify-content-center",children:Object(C.jsx)("div",{className:"content external",children:Object(C.jsx)("div",{className:"btn-carta",onClick:function(){e.redirect(0)},children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Solicitar una carta laboral"})})})})]})})})}}]),s}(a.Component)),X=(s(818),function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).userNameRef=c.a.createRef(),a.userPassRef=c.a.createRef(),a.connectSocket=function(){a.socket=Object(O.io)(a.ws)},a.setSocket=function(e){a.socket.emit("set-unchecked-news",e.data.data),a.socket.on("get-unchecked-news",(function(e){a.setState({forms:e,status:"success"})}))},a.isLogged=function(){},a.login=function(){v.a.get(a.url+"get-unchecked-forms").then((function(e){a.setSocket(e)}))},a.saveForm=function(){var e=Object(h.a)(b.a.mark((function e(t){var s;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),s={name:a.userNameRef.current.value,pass:a.userPassRef.current.value},(""===a.userNameRef.current.value||""===a.userPassRef.current.value)&&a.userNameRef.current.setCustomValidity("Complete este campo"),a.setState({user:s}),e.next=6,v.a.post(a.url+"login",s).then((function(e){e?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Bienvenido</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){localStorage.setItem("userSesion",e.data.token),a.props.history.push("/news")})):(y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Usuario o contrase\xf1a incorrectos</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}),a.setState({status:"failed"}))}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Usuario o contrase\xf1a incorrectos</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.backToNews=function(){a.props.history.push("/")},a.url=x.url,a.ws=x.ws,a.socket=null,a.state={user:{name:"",pass:""},status:null},a}return Object(l.a)(s,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"componentDidMount",value:function(){for(var e=document.getElementsByTagName("INPUT"),t=0;t<e.length;t++)e[t].oninvalid=function(e){e.target.setCustomValidity(""),e.target.validity.valid||e.target.setCustomValidity("Complete este campo.")},e[t].oninput=function(e){e.target.setCustomValidity("")}}},{key:"render",value:function(){return Object(C.jsx)(c.a.Fragment,{children:Object(C.jsx)("div",{className:"row h-100 content-login no-gutters justify-content-center align-items-center",children:Object(C.jsx)("div",{className:"form-content-container row justify-content-center align-items-center",children:Object(C.jsxs)("form",{className:"form",onSubmit:this.saveForm,children:[Object(C.jsx)("div",{className:"form-group row h-30 justify-content-center align-items-center",children:Object(C.jsx)("div",{className:"form-logo",children:Object(C.jsx)("img",{className:"login-logo",src:p,alt:"imagen de metrolinea"})})}),Object(C.jsxs)("div",{className:"form-group  row h-20 justify-content-center align-items-center",children:[Object(C.jsxs)("div",{className:"form-label col-lg-12",htmlFor:"nombre",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Nombre de usuario"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("input",{className:"form-input col-lg-12",type:"text",name:"nombre",ref:this.userNameRef,required:!0,maxlength:"20",pattern:"^[a-zA-z]+([\\s][a-zA-Z]+)*$"})]}),Object(C.jsxs)("div",{className:"form-group  row h-20 justify-content-center align-items-center",children:[Object(C.jsxs)("div",{className:"form-label col-lg-12",htmlFor:"pass",children:[Object(C.jsx)("div",{className:"text absolute-center",children:"Contrase\xf1a"}),Object(C.jsx)("div",{className:"required-mark",children:"*"})]}),Object(C.jsx)("input",{className:"form-input col-lg-12",type:"password",name:"pass",ref:this.userPassRef,required:!0,maxlength:"20",pattern:"^[a-zA-z]+([\\s][a-zA-Z]+)*$"})]}),Object(C.jsx)("div",{className:"row h-30 justify-content-center align-items-center",children:Object(C.jsx)("input",{type:"submit",value:"Entrar"})}),Object(C.jsx)("div",{className:"back-container",children:Object(C.jsx)("div",{className:"btn-back",onClick:this.backToNews,children:Object(C.jsx)("div",{className:"btn-label absolute-center",children:"Volver"})})})]})})})})}}]),s}(a.Component)),K=function(e){Object(o.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(l.a)(s,[{key:"render",value:function(){return Object(C.jsx)(u.a,{children:Object(C.jsxs)(j.c,{children:[Object(C.jsx)(j.a,{exact:!0,path:"/",component:G}),Object(C.jsx)(j.a,{exact:!0,path:"/form",component:k}),Object(C.jsx)(j.a,{exact:!0,path:"/login",component:X}),Object(C.jsx)(j.a,{exact:!0,path:"/news",component:P}),Object(C.jsx)(j.a,{path:"/new-details/:id",component:$}),Object(C.jsx)(j.a,{render:function(){return Object(C.jsxs)(c.a.Fragment,{children:[Object(C.jsx)("h1",{children:"Pagina no encontrada"}),Object(C.jsx)(u.b,{to:"/",children:"Inicio"})]})}})]})})}}]),s}(a.Component);s(822);var ee=function(){return Object(C.jsx)("div",{className:"App",children:Object(C.jsx)("section",{className:"components",children:Object(C.jsx)(K,{})})})},te=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,840)).then((function(t){var s=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,n=t.getTTFB;s(e),a(e),c(e),i(e),n(e)}))};n.a.render(Object(C.jsxs)(c.a.StrictMode,{children:[Object(C.jsx)(ee,{}),Object(C.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(C.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})]}),document.getElementById("root")),te()}},[[823,1,2]]]);
//# sourceMappingURL=main.0f9e9627.chunk.js.map