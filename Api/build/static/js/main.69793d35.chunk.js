(this["webpackJsonpcarta-laboral-app"]=this["webpackJsonpcarta-laboral-app"]||[]).push([[0],{314:function(e,t,a){},315:function(e,t,a){},317:function(e,t,a){},361:function(e,t,a){},362:function(e,t,a){},363:function(e,t,a){},364:function(e,t,a){},370:function(e,t,a){},371:function(e,t,a){},372:function(e,t,a){},373:function(e,t,a){},374:function(e,t,a){},375:function(e,t,a){},376:function(e,t){},378:function(e,t){},408:function(e,t){},409:function(e,t){},518:function(e,t){},689:function(e,t,a){},690:function(e,t,a){},695:function(e,t,a){"use strict";a.r(t);var s=a(2),c=a.n(s),n=a(32),i=a.n(n),r=(a(314),a(315),a(17)),l=a(14),o=a(19),d=a(18),u=a(104),j=a(22),m=a(10),b=a.n(m),h=a(34),f=(a(317),a(11)),v=a.n(f),x={url:"http://104.248.54.46:3900/metrolinea/",ws:"ws://104.248.54.46:3900"},O=a.p+"static/media/metrolinea-logo.16f6c7f8.png",p=a(27),g=a(20),y=a.n(g),N=a(1),w=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).userNameRef=c.a.createRef(),s.userMailRef=c.a.createRef(),s.userIdentificationRef=c.a.createRef(),s.userTelephoneRef=c.a.createRef(),s.userUrlStampRef=c.a.createRef(),s.userContentRef=c.a.createRef(),s.payroll=c.a.createRef(),s.contractor=c.a.createRef(),s.fileChange=function(e){var t={stamp_url:e.target.files[0]},a=new FormData;a.append("file",t.stamp_url),s.setState({stamp:a})},s.connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.setSocket=function(e){s.socket.emit("set-unchecked-news",e.data.data),s.socket.on("get-unchecked-news",(function(e){s.setState({forms:e,status:"success"})}))},s.getForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(s.url+"get-unchecked-forms").then((function(e){s.setSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),s.sendForm=function(e){e.preventDefault();var t={name:s.userNameRef.current.value,email:s.userMailRef.current.value,identification:s.userIdentificationRef.current.value,telephone:s.userTelephoneRef.current.value};s.setState({user:t})},s.saveForm=function(){var e=Object(h.a)(b.a.mark((function e(t){var a,c;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:s.userNameRef.current.value,email:s.userMailRef.current.value,identification:s.userIdentificationRef.current.value,telephone:s.userTelephoneRef.current.value},s.setState({user:a}),c={content:s.userContentRef.current.value,user_id:0,stamp_id:0,request_type:s.payroll.current.checked?1:0},e.next=6,v.a.post(s.url+"create-user",s.state.user).then((function(e){e?(c.user_id=e.data.data.insertId,v.a.post(s.url+"upload-stamp",s.state.stamp).then(function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=6;break}return a={stamp_url:t.data.data},e.next=4,v.a.post(s.url+"create-stamp",a).then(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t){e.next=7;break}return c.stamp_id=t.data.data.insertId,s.setState({form:c}),e.next=5,v.a.post(s.url+"create-form",s.state.form).then((function(e){e?(s.getForms(),s.socket.emit("new-form",s.state.form),s.setState({status:"succes"}),y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Formulario diligenciado correctamente, recibiras un correo con m\xe1s informaci\xf3n sobre tu petici\xf3n</div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){s.mailForm.email=s.state.user.email,s.mailForm.name=s.state.user.name,s.mailForm.mailState=2,s.mailForm.id=e.data.data.insertId,v.a.post(s.url+"mail",s.mailForm).then((function(e){s.props.history.push("/")}))}))):s.setState({status:"failed"})}));case 5:e.next=8;break;case 7:s.setState({status:"failed"});case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 4:e.next=7;break;case 6:s.setState({status:"failed"});case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())):s.setState({status:"failed"})}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.selectContractOrPayroll=function(e){},s.url=x.url,s.ws=x.ws,s.socket=null,s.mailForm={},s.state={user:{name:"",email:"",identification:"",telephone:""},stamp:null,form:{content:"",stamp_id:0,user_id:0},status:null,payroll:!1,contract:!1},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){var e=this;return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"form-content-container-main",children:Object(N.jsxs)("form",{className:"form-main",onSubmit:this.saveForm,onChange:this.sendForm,children:[Object(N.jsx)("div",{className:"form-group",children:Object(N.jsx)("div",{className:"form-logo",children:Object(N.jsx)("img",{className:"login-logo",src:O,alt:"imagen de metrolinea"})})}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"nombre",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Nombre del solicitante"})}),Object(N.jsx)("input",{className:"form-input",type:"text",name:"nombre",ref:this.userNameRef})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"mail",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Correo"})}),Object(N.jsx)("input",{className:"form-input",type:"text",name:"mail",ref:this.userMailRef})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"identification",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Identificaci\xf3n"})}),Object(N.jsx)("input",{className:"form-input",type:"identification",name:"identification",ref:this.userIdentificationRef})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"telephone",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Telefono"})}),Object(N.jsx)("input",{className:"form-input",type:"telephone",name:"telephone",ref:this.userTelephoneRef})]}),Object(N.jsxs)("div",{className:"form-group form-text-area",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"content",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Descripci\xf3n de la solicitud"})}),Object(N.jsx)("textarea",{className:"text-area-input",type:"text-area",name:"content",ref:this.userContentRef})]}),Object(N.jsxs)("div",{className:"form-group",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"fiel0",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Adjuntar estampilla"})}),Object(N.jsx)("input",{id:"archivo",className:"form-input-file",type:"file",name:"file0",ref:this.userUrlStampRef,onChange:this.fileChange}),Object(N.jsx)("label",{className:"file-input",htmlFor:"archivo",children:"Examinar"}),Object(N.jsx)("div",{className:"form-label",children:Object(N.jsxs)("div",{className:"text link absolute-center",children:["Recuerda descargar tu estampilla primero ",Object(N.jsx)("a",{href:"https://estampillas.syc.com.co/",target:"_blank",children:"\xa1Click Aqu\xed!"})]})})]}),Object(N.jsxs)("div",{className:"form-group-radio",children:[Object(N.jsx)("div",{className:"form-label",htmlFor:"requestType",children:Object(N.jsx)("div",{className:"text-radio-label absolute-center",children:"Tipo de petici\xf3n:"})}),Object(N.jsxs)("div",{className:"row no-gutters select-type align-items-center justify-content-center",children:[Object(N.jsx)("div",{className:"col-lg-12 radio-input",children:Object(N.jsxs)("label",{className:"container-radio",children:["Carta laboral n\xf3mina",Object(N.jsx)("input",{type:"radio",className:"form-input-check",checked:!0,name:"requestType",ref:this.payroll,onChange:function(t){t.preventDefault(),e.payroll.current.checked="on"===t.currentTarget.value}}),Object(N.jsx)("span",{className:"checkmark"})]})}),Object(N.jsx)("div",{className:"col-lg-12 radio-input",children:Object(N.jsxs)("label",{className:"container-radio",children:["Carta laboral contratista",Object(N.jsx)("input",{type:"radio",className:"form-input-check",name:"requestType",ref:this.contractor,onChange:function(t){t.preventDefault(),e.contractor.current.checked="on"===t.currentTarget.value}}),Object(N.jsx)("span",{className:"checkmark"})]})})]})]}),Object(N.jsx)("input",{type:"submit",value:"Enviar"})]})})})}}]),a}(s.Component),k=(a(361),a(362),a(363),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).onClickCard=function(){s.props.clickCard(s.props.new)},s.url=x.url,s.state={form:s.props.new},s}return Object(l.a)(a,[{key:"render",value:function(){var e=null,t=!0;return 1===this.state.form.state?e=!0:0===this.state.form.state?e=!1:t=!1,Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"item-card-container",children:Object(N.jsxs)("div",{className:"item-card",onClick:this.onClickCard,children:[Object(N.jsxs)("div",{className:"state-container",children:[e&&t&&Object(N.jsx)("div",{className:"label-mark certified"}),!e&&t&&Object(N.jsx)("div",{className:"label-mark denied"}),!t&&Object(N.jsx)("div",{className:"label-mark unchecked"})]}),Object(N.jsx)("div",{className:"item-container col-lg-auto",children:Object(N.jsx)("div",{className:"item-data absolute-center item-dark-data",children:this.state.form.name})}),Object(N.jsx)("div",{className:"item-container dark-item col-lg-auto",children:Object(N.jsx)("div",{className:"item-data absolute-center",children:this.state.form.identification})}),Object(N.jsx)("div",{className:"item-container col-lg-auto",children:this.state.form.request_type?Object(N.jsx)("div",{className:"item-data absolute-center",children:"Nomina"}):Object(N.jsx)("div",{className:"item-data absolute-center",children:"Contratista"})})]})})})}}]),a}(s.Component)),C=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setQuantity=function(e){s.props.quantity(e.length)},s.connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.setSocket=function(e){s.socket.emit("set-unchecked-news",e.data.data),s.socket.on("get-unchecked-news",(function(e){s.setState({forms:e,status:"success"}),s.setQuantity(e)}))},s.viewDetails=function(e){var t="/new-details/"+e.id;s.history.push(t)},s.getForms=function(){v.a.get(s.url+"get-unchecked-forms").then((function(e){s.setSocket(e)}))},s.url=x.url,s.history=s.props.history,s.ws=x.ws,s.socket=null,s.state={forms:{},status:null},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket(),this.getForms()}},{key:"render",value:function(){var e=this;if(this.state.forms.length>=1){var t=this.state.forms.map((function(t,a){return Object(N.jsx)(k,{new:t,clickCard:e.viewDetails},a)}));return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"formulario absolute-center",children:t})})}return 0===this.state.forms.length&&"success"===this.state.status?Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"formulario absolute-center",children:Object(N.jsx)("h1",{className:"absolute-center",children:" no hay formularios pendientes"})})}):Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"formulario absolute-center",children:Object(N.jsx)("h1",{className:"absolute-center",children:" no hay Formularios"})})})}}]),a}(s.Component),S=a(49),T=(a(364),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).setQuantity=function(e){var t=[],a=[];e.map((function(e){1===e.state?t.push(e):a.push(e)}));var c={aproved:t,denied:a};s.props.quantity(c)},s.connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.setSocket=function(e){s.socket.emit("set-checked-news",e.data.data),s.socket.on("get-checked-news",(function(e){s.setState({forms:e,status:"success"}),s.setQuantity(e)}))},s.viewDetails=function(e){var t="/new-details/"+e.id;s.history.push(t)},s.getCheckedForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(s.url+"get-checked-forms").then((function(e){s.setSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),s.url=x.url,s.ws=x.ws,s.socket=null,s.history=s.props.history,s.viewDetails=s.viewDetails.bind(Object(S.a)(s)),s.state={forms:{},status:null},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket(),this.getCheckedForms()}},{key:"render",value:function(){var e=this;if(this.state.forms.length>=1){var t=this.state.forms.map((function(t,a){return Object(N.jsx)(k,{new:t,clickCard:e.viewDetails},a)}));return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"formulario absolute-center",children:t})})}return 0===this.state.forms.length&&this.state.status,Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"formulario absolute-center",children:Object(N.jsx)("h1",{className:"absolute-center",children:" no hay Formularios"})})})}}]),a}(s.Component)),F=a(171),R=(a(365),a(715)),D=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).getUser=function(e){v.a.get(s.url+"get-admin/"+e).then((function(e){s.setState({user:e.data.data})}))},s.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(s.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para acceder a esta funcionalidad debes iniciar sesi\xf3n</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){s.props.history.push("/login")})):(s.getUser(e.data.data.id),s.connectSocket())}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para acceder a esta funcionalidad debes iniciar sesi\xf3n</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){s.props.history.push("/login")}))}))},s.connectSocket=function(){s.socket=Object(p.io)(s.ws),s.socket.on("get-news",(function(e){s.setState({toast:e}),s.notify()}))},s.changeState=function(e){var t=e.currentTarget,a=document.querySelector(".btn-nav.active"),s=document.querySelector(".active.content-news"),c=document.querySelector(".inactive.content-news");"active"!==t.classList[1]&&("btn-nav-news"===t.classList[0]?(t.className="btn-nav-news active btn-nav",a.className="btn-nav-checked btn-nav"):(t.className="btn-nav-checked active btn-nav",a.className="btn-nav-news btn-nav"),s.className="content-news inactive",c.className="content-news active")},s.notify=function(){F.b.info("\ud83e\udd84 Wow so easy! 2",{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0})},s.getUncheckedLength=function(e){s.setState({uncheckedLength:e})},s.getCheckedLength=function(e){s.setState({checkedDeniedLength:e.denied.length,checkedAprovedLength:e.aproved.length})},s.logOut=function(){localStorage.removeItem("userSesion"),y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Sesi\xf3n cerrada</div></div>'}).then((function(){s.props.history.push("/")}))},s.url=x.url,s.ws=x.ws,s.socket=null,s.state={toast:null,uncheckedLength:"0",checkedAprovedLength:"0",checkedDeniedLength:"0",user:{}},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.veryfyUserSesion()}},{key:"render",value:function(){return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"row align-items-center justify-content-center news-container",children:Object(N.jsxs)("div",{className:"no-gutters content-container-news",children:[Object(N.jsxs)("div",{className:"header-menu",children:[Object(N.jsx)("div",{className:"btn-nav-news active btn-nav",onClick:this.changeState,children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Novedades"})}),Object(N.jsx)("div",{className:"btn-nav-checked inactive btn-nav",onClick:this.changeState,children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Historial"})}),Object(N.jsx)("div",{className:"btn-nav-close log-out",onClick:this.logOut,children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Cerrar sesi\xf3n"})})]}),Object(N.jsxs)("div",{className:"news-content",children:[Object(N.jsxs)("div",{className:"badge-container",children:[Object(N.jsxs)("div",{className:"badge-content",children:[Object(N.jsx)("div",{className:"badge-label absolute-center",children:"Novedades:"}),Object(N.jsx)(R.a,{className:"unchecked",color:"primary",badgeContent:this.state.uncheckedLength})]}),Object(N.jsxs)("div",{className:"badge-content",children:[Object(N.jsx)("div",{className:"badge-label absolute-center",children:"Certificadas:"}),Object(N.jsx)(R.a,{className:"aproved",badgeContent:this.state.checkedAprovedLength})]}),Object(N.jsxs)("div",{className:"badge-content",children:[Object(N.jsx)("div",{className:"badge-label absolute-center",children:"Rechazadas:"}),Object(N.jsx)(R.a,{className:"denied",color:"secondary",badgeContent:this.state.checkedDeniedLength})]})]}),Object(N.jsx)("div",{className:"unchecked-forms active content-news",children:Object(N.jsx)(C,{forms:this.state.forms,status:this.state.status,history:this.props.history,quantity:this.getUncheckedLength})}),Object(N.jsx)("div",{className:"checked-forms inactive content-news",children:Object(N.jsx)(T,{forms:this.state.checkedForms,status:this.state.statusChecked,history:this.props.history,quantity:this.getCheckedLength})})]}),Object(N.jsx)("div",{className:"toast-container",children:Object(N.jsx)(F.a,{position:"bottom-right",autoClose:15e3,hideProgressBar:!1,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})})]})})})}}]),a}(s.Component),B=(a(370),a(56)),P=(a(371),a(372),a(108)),V=a(127),I=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).contractNumberRef=c.a.createRef(),s.contractYearRef=c.a.createRef(),s.setContractNumber=function(){},s.setInactive=function(){var e=document.querySelectorAll(".item-list");e.length>=1&&Array.from(e).map((function(e,t){e.className=s.state.active}))},s.selectContract=function(e,t){s.setInactive();var a=e.currentTarget;a.className=a.className+" active",s.setState({selectedContracts:t})},s.validateRelation=function(){},s.addContract=function(){},s.removeContract=function(e){var t=s.state.contratos;t.push(e),s.setState({contratos:t})},s.overLayRef=c.a.createRef(),s.url=x.url,s.relatedContracts=s.props.contractsRelated,s.state={contratos:[],selectedContracts:null,userId:null,active:"item-list row no-gutters align-items-center justify-content-center",showDetail:!1},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({contratos:this.relatedContracts})}},{key:"showObject",value:function(e,t){this.setState({showDetail:!0})}},{key:"render",value:function(){var e=this,t=function(e){return Object(N.jsxs)(V.a,{transition:!1,id:"popover-basic",children:[Object(N.jsx)(V.a.Title,{as:"h3",children:"Objeto del contrato"}),Object(N.jsx)(V.a.Content,{children:e.object})]})};return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"container-search-contract",children:Object(N.jsx)("div",{className:"search-row row h-100 no-gutters",children:Object(N.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(N.jsx)("div",{className:"row h-80 no-gutters",children:this.state.contratos.length>0?Object(N.jsxs)("div",{className:"list-container-search",children:[Object(N.jsx)("div",{className:"list-label",children:"Resultado de b\xfasqueda"}),Object(N.jsxs)("div",{className:"item-list-header row no-gutters align-items-center justify-content-center",children:[Object(N.jsx)("div",{className:"column-container col-lg-1",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:"N\xb0"})}),Object(N.jsx)("div",{className:"column-container col-lg-3",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:"A\xf1o"})}),Object(N.jsx)("div",{className:"column-container col-lg-7",children:Object(N.jsx)("div",{className:"column-data  absolute-center",children:"Objeto"})})]}),Object(N.jsx)("div",{className:"list",children:this.state.contratos.map((function(a,s){return Object(N.jsxs)("div",{className:e.state.active,onClick:function(t){e.selectContract(t,a)},children:[Object(N.jsx)("div",{className:"column-container col-lg-1",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:a.contract_number})}),Object(N.jsx)("div",{className:"column-container col-lg-3",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:a.year})}),Object(N.jsx)("div",{className:"column-container col-lg-7",children:Object(N.jsx)("div",{onMouseOver:function(t){e.showObject(t,a.object)},children:Object(N.jsx)(P.a,{transition:!1,ref:e.overLayRef,placement:"right",overlay:t(a),children:Object(N.jsx)("div",{variant:"success",className:"column-data elipsis absolute-center",children:a.object})})})})]},s)}))})]}):Object(N.jsxs)("div",{className:"list-container-search",children:[Object(N.jsx)("div",{className:"list-label",children:"Resultado de b\xfasqueda"}),Object(N.jsx)("div",{className:"list",children:Object(N.jsx)("h2",{className:"absolute-center",children:"No hay resultados"})})]})}),Object(N.jsx)("div",{className:"row h-10 align-items-center justify-content-center no-gutters",children:Object(N.jsx)("div",{className:"item-container col-lg-auto",children:Object(N.jsx)("div",{className:null===this.state.selectedContracts?"btn-add-contract inactive":"btn-add-contract",onClick:function(){var t="";y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Elige el tipo de contrato</div></div>',denyButtonColor:"#0A9B91",confirmButtonText:"Ejecuta",denyButtonText:"Suscribi\xf3",allowOutsideClick:!1,showDenyButton:!0,showCloseButton:!0}).then((function(a){if(a.isConfirmed)t="Ejecuta",(s=e.state.contratos).map((function(t,a){t.id===e.state.selectedContracts.id&&(s.splice(a,1),e.setState({contratos:s}))})),e.props.add(e.state.selectedContracts,t),e.setState({selectedContracts:null},e.setInactive());else if(a.isDenied){var s;t="Suscribio",(s=e.state.contratos).map((function(t,a){t.id===e.state.selectedContracts.id&&(s.splice(a,1),e.setState({contratos:s}))})),e.props.add(e.state.selectedContracts,t),e.setState({selectedContracts:null},e.setInactive())}}))},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Agregar contrato"})})})})]})})})})}}]),a}(s.Component),q=a(88),A=a(301),E=a(109),_=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).contractNumberRef=c.a.createRef(),s.contractYearRef=c.a.createRef(),s.setContractNumber=function(){},s.closeAddContract=function(){s.setState({addContract:!1})},s.addContract=function(e,t){var a={ejecuta:s.contratosEjecuta,suscribio:s.contratosSuscritos};"Suscribio"===t?(s.contratosSuscritos.push(e),s.setState({contratos:a})):(s.contratosEjecuta.push(e),s.setState({contratos:a}))},s.removeContract=function(e,t){var a=s.state.contratos;0===t?(a.ejecuta.map((function(t,c){t.id===e.id&&(a.ejecuta.splice(c,1),s.setState({contratos:a}))})),s.props.remove(e)):(a.suscribio.map((function(t,c){t.id===e.id&&(a.suscribio.splice(c,1),s.setState({contratos:a}))})),s.props.remove(e))},s.addDetail=function(e,t,a){var c=s.state.contratos;a?c.suscribio.map((function(a,n){a.id===e.id&&(a.details=t,s.setState({contratos:c}))})):c.ejecuta.map((function(a,n){a.id===e.id&&(a.details=t,s.setState({contratos:c}))}))},s.url=x.url,s.contratosSuscritos=[],s.contratosEjecuta=[],s.state={contratos:{ejecuta:[],suscribio:[]},selectedContracts:[],userId:null,addContract:!1,diffx:0,diffy:0,draggingState:!1,styles:{left:50,top:50},stylesWindow:{},arrivalData:{},showDetail:!1},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.setState({arrivalData:this.props.contractData})}},{key:"showObject",value:function(e,t){this.setState({showDetail:!0})}},{key:"render",value:function(){var e=this,t=function(e){return Object(N.jsx)(A.a,{id:"button-tooltip",children:e})};return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsxs)("div",{className:"content-createPDF",children:[Object(N.jsx)("div",{className:"row h-90 no-gutters",children:Object(N.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(N.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.ejecuta.length>0?Object(N.jsxs)("div",{className:"list-container ejecuta-list",children:[Object(N.jsx)("div",{className:"list-label",children:"Ejecuta"}),Object(N.jsx)("div",{className:"list",children:this.state.contratos.ejecuta.map((function(a,s){return Object(N.jsxs)("div",{className:"item-list-added row no-gutters align-items-center justify-content-center",children:[Object(N.jsx)("div",{className:"colum-container col-lg-1",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:a.contract_number})}),Object(N.jsx)("div",{className:"colum-container col-lg-2",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:a.year})}),Object(N.jsx)("div",{className:"colum-container col-lg-6",children:Object(N.jsx)("div",{className:"column-data elipsis absolute-center",children:a.object})}),Object(N.jsx)(P.a,{transition:!1,placement:"bottom",overlay:t("Agregar detalle"),children:Object(N.jsx)("div",{className:"colum-container col-lg-1",children:Object(N.jsx)("div",{variant:"success",className:"column-data absolute-center",children:Object(N.jsx)(q.a,{variant:"edit",onClick:function(){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Agregar detalle</div></div><textarea id=input-detail></textarea>',denyButtonColor:"#0A9B91",confirmButtonText:"Listo",allowOutsideClick:!1,showCloseButton:!0}).then((function(t){if(t.isConfirmed){var s=document.getElementById("input-detail").value;e.addDetail(a,s,0)}}))},children:Object(N.jsx)(E.a,{className:"no-events absolute-center"})})})})}),Object(N.jsx)(P.a,{transition:!1,placement:"bottom",overlay:t("Remover"),children:Object(N.jsx)("div",{className:"colum-container col-lg-1",children:Object(N.jsx)("div",{variant:"success",className:"column-data absolute-center",children:Object(N.jsx)(q.a,{variant:"danger",onClick:function(){return e.removeContract(a,0)},children:Object(N.jsx)(E.b,{className:"no-events absolute-center"})})})})})]},s)}))})]}):Object(N.jsxs)("div",{className:"list-container ejecuta-list",children:[Object(N.jsx)("div",{className:"list-label",children:"Ejecuta"}),Object(N.jsx)("div",{className:"list",children:Object(N.jsx)("h2",{className:"list-label absolute-center",children:"No hay resultados"})})]})}),Object(N.jsx)("div",{className:"row h-50 no-gutters",children:this.state.contratos.suscribio.length>0?Object(N.jsxs)("div",{className:"list-container suscribio-list",children:[Object(N.jsx)("div",{className:"list-label",children:"Suscribi\xf3"}),Object(N.jsx)("div",{className:"list",children:this.state.contratos.suscribio.map((function(t,a){return Object(N.jsxs)("div",{className:"item-list-added row no-gutters align-items-center justify-content-center",children:[Object(N.jsx)("div",{className:"colum-container col-lg-1",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:t.contract_number})}),Object(N.jsx)("div",{className:"colum-container col-lg-2",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:t.year})}),Object(N.jsx)("div",{className:"colum-container col-lg-5",children:Object(N.jsx)("div",{className:"column-data elipsis absolute-center",children:t.object})}),Object(N.jsx)("div",{className:"colum-container col-lg-1",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:Object(N.jsx)(q.a,{variant:"edit",onClick:function(){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Agregar detalle</div></div><textarea id=input-detail></textarea>',denyButtonColor:"#0A9B91",confirmButtonText:"Listo",allowOutsideClick:!1,showCloseButton:!0}).then((function(a){if(a.isConfirmed){var s=document.getElementById("input-detail").value;e.addDetail(t,s,1)}}))},children:Object(N.jsx)(E.a,{className:"no-events absolute-center"})})})}),Object(N.jsx)("div",{className:"colum-container col-lg-1",children:Object(N.jsx)("div",{className:"column-data absolute-center",children:Object(N.jsx)(q.a,{variant:"danger",onClick:function(){return e.removeContract(t,1)},children:Object(N.jsx)(E.b,{className:"absolute-center"})})})})]},a)}))})]}):Object(N.jsxs)("div",{className:"list-container suscribio-list",children:[Object(N.jsx)("div",{className:"list-label",children:"Suscribi\xf3"}),Object(N.jsx)("div",{className:"list",children:Object(N.jsx)("h2",{className:"list-label absolute-center",children:"No hay resultados"})})]})})]})}),Object(N.jsx)("div",{className:"prev-container h-10",children:Object(N.jsx)("div",{className:"btn-prev",onClick:function(){e.props.prev(0)},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Previsualizar"})})})]})})}}]),a}(s.Component),z=(a(373),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).observations=c.a.createRef(),s.setContractNumber=function(){},s.closeAddContract=function(){s.setState({addContract:!1})},s.openDragWindow=function(e){s.setState({addContract:!0})},s.url=x.url,s.dragStart=s.dragStart.bind(Object(S.a)(s)),s.dragging=s.dragging.bind(Object(S.a)(s)),s.dragOver=s.dragOver.bind(Object(S.a)(s)),s.observData=s.observations,s.state={userId:null},s}return Object(l.a)(a,[{key:"dragStart",value:function(e){this.setState({diffx:e.screenX-e.currentTarget.getBoundingClientRect().left,diffy:e.screenY-e.currentTarget.getBoundingClientRect().top,draggingState:!0})}},{key:"dragOver",value:function(){this.setState({draggingState:!1})}},{key:"dragging",value:function(e){if(this.state.draggingState){var t={left:e.screenX-this.state.diffx,top:e.screenY-this.state.diffy};this.setState({styles:t}),console.log(t)}}},{key:"render",value:function(){var e=this;return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsxs)("div",{className:"content-Payroll",children:[Object(N.jsx)("div",{className:"row h-90 no-gutters align-items-center",children:Object(N.jsx)("div",{className:"container-text-area col-lg-12 h-90",children:Object(N.jsx)("textarea",{className:"text-area-input",type:"text-area",name:"content",ref:this.observations})})}),Object(N.jsx)("div",{className:"prev-container h-10",children:Object(N.jsx)("div",{className:"btn-prev",onClick:function(){e.props.prev(1,e.observations)},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Previsualizar"})})})]})})}}]),a}(s.Component)),M=(a(374),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.getUser=function(e){v.a.get(s.url+"get-admin/"+e).then((function(e){s.setState({user:e.data.data})}))},s.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(s.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Para acceder a esta funcionalidad debes iniciar sesi\xf3n</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){s.props.history.push("/login")})):(s.getUser(e.data.data.id),s.connectSocket())}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0})}))},s.getContractor=function(){v.a.get(s.url+"get-contractor/"+s.props.contractorId).then((function(e){s.setState({contractor:e.data.data},(function(){s.contractorData=s.state.contractor})),v.a.get(s.url+"get-contracts/"+s.state.contractor.id).then((function(e){s.setState({relatedContracts:e.data.data,loadedContracts:!0})}))}))},s.addContract=function(e,t){s.props.pdfData(e,t)},s.removeContract=function(e){s.passRemove.current.removeContract(e)},s.url=x.url,s.ws=x.ws,s.socket=null,s.contractorData=null,s.passRemove=c.a.createRef(),s.state={user:{name:"",pass:""},status:null,contractor:{},relatedContracts:[],loadedContracts:!1},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getContractor()}},{key:"render",value:function(){return Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("div",{className:"row content-user-data no-gutters",children:Object(N.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(N.jsx)("div",{className:"row h-10 align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del contratista"})}),Object(N.jsxs)("div",{className:"row h-25 align-items-center",children:[Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Nombre"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.name})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Correo"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.email})})]})]}),Object(N.jsxs)("div",{className:"row h-25 align-items-center",children:[Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"identification"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.identification})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"telephone"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.contractor.telephone})})]})]})]})}),Object(N.jsx)("div",{className:"row contract-list-container no-gutters",children:this.state.loadedContracts&&Object(N.jsx)(I,{ref:this.passRemove,add:this.addContract,contractsRelated:this.state.relatedContracts})})]})}}]),a}(s.Component)),L=(a(375),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.getUser=function(e){v.a.get(s.url+"get-admin/"+e).then((function(e){s.setState({user:e.data.data})}))},s.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(s.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:"Para acceder a esta funcionalidad debes iniciar sesi\xf3n",icon:"info"}).then((function(){s.props.history.push("/login")})):(s.getUser(e.data.data.id),s.connectSocket())}),(function(e){y.a.fire({title:"Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar",icon:"info"})}))},s.getPayroll=function(){v.a.get(s.url+"get-payroll/"+s.props.payrollId).then((function(e){s.setState({payroll:e.data.data}),v.a.get(s.url+"get-dependency/"+s.state.payroll.dependency).then((function(e){s.setState({dependencia:e.data.data.name})}))}))},s.url=x.url,s.ws=x.ws,s.socket=null,s.state={user:{name:"",pass:""},status:null,payroll:{},dependencia:""},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getPayroll()}},{key:"render",value:function(){return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"row content-user-data no-gutters",children:Object(N.jsxs)("div",{className:"col-lg-12 h-100",children:[Object(N.jsx)("div",{className:"row h-10 align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n nomina"})}),Object(N.jsxs)("div",{className:"row h-60 align-items-center",children:[Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Nombre"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.name})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Apellido"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsxs)("div",{className:"text-data absolute-center",children:[this.state.payroll.first_surname," ",this.state.payroll.second_surname]})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"identification"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.identification})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Expedicion"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.expedition_place})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Salario"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.payroll.salary})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Dependencia"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"text-data absolute-center",children:this.state.dependencia})})]})]})]})})})}}]),a}(s.Component)),W=a(6),U=a.p+"static/media/Roboto-Regular.a8d6ac03.ttf",Y=a.p+"static/media/Roboto-Bold.75371f53.ttf",H=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).newStateRef=c.a.createRef(),s.dateFormat=function(e,t){var a={},c=e.getMonth(),n=e.getFullYear(),i=e.getDay(),r=e.getDate();return a.year=n,a.monthString=s.setMonth(c),a.calendarDay=r,a.dayString=s.setDay(i),a.dayCalendarString=s.decenas(r),t&&"un"===a.dayCalendarString&&(a.dayCalendarString="primero"),a},s.setMonth=function(e){var t;switch(e){case 0:t="Enero";break;case 1:t="Febrero";break;case 2:t="Marzo";break;case 3:t="Abril";break;case 4:t="Mayo";break;case 5:t="Junio";break;case 6:t="Julio";break;case 7:t="Agosto";break;case 8:t="Septiembre";break;case 9:t="Octubre";break;case 10:t="Noviembre";break;case 11:t="Diciembre"}return t},s.setDay=function(e){var t;switch(e){case 0:t="Domingo";break;case 1:t="Lunes";break;case 2:t="Martes";break;case 3:t="Mi\xe9rcoles";break;case 4:t="Jueves";break;case 5:t="Viernes";break;case 6:t="S\xe1bado"}return t},s.decenas=function(e){var t=Math.floor(e/10),a=e-10*t;switch(t){case 1:switch(a){case 0:return"diez";case 1:return"once";case 2:return"doce";case 3:return"trece";case 4:return"catorce";case 5:return"quince";default:return"dieci"+s.unidades(a)}case 2:switch(a){case 0:return"veinte";default:return"veinti"+s.unidades(a)}case 3:return s.decenasY("treinta",a);case 4:return s.decenasY("cuarenta",a);case 5:return s.decenasY("cincuenta",a);case 6:return s.decenasY("sesenta",a);case 7:return s.decenasY("setenta",a);case 8:return s.decenasY("ochenta",a);case 9:return s.decenasY("noventa",a);case 0:return s.unidades(a)}},s.decenasY=function(e,t){return t>0?e+" y "+s.unidades(t):e},s.unidades=function(e){switch(e){case 1:return"un";case 2:return"dos";case 3:return"tres";case 4:return"cuatro";case 5:return"cinco";case 6:return"seis";case 7:return"siete";case 8:return"ocho";case 9:return"nueve"}return""},s.prevPdfObjectFunc=Object(h.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!s.state.previewPDF){e.next=5;break}return t=s.state.prevPdfObject,e.abrupt("return",t);case 5:return e.next=7,s.prevPDF(s.state.form.request_type,s.passDataPayroll.current.observData);case 7:case"end":return e.stop()}}),e)}))),s.prevPDF=function(){var e=Object(h.a)(b.a.mark((function e(t,a){var c,n,r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s.setState({prevPdfState:!0}),1===t?(c=s.userData.current.state.payroll,n=new Date,s.date=new Date(c.admission_date),s.date=s.dateFormat(s.date,1),r=s.dateFormat(n,0),c.fecha=s.date,c.today=r,c.observations=null!==a.current?a.current.value:"",s.setState({previewPDF:!0},(function(){var e=function(){return Object(N.jsx)(W.Document,{children:Object(N.jsxs)(W.Page,{size:"A4",style:s.styles.page,children:[Object(N.jsxs)(W.View,{fixed:!0,style:s.styles.header,children:[Object(N.jsxs)(W.View,{style:s.styles.left,children:[Object(N.jsx)(W.View,{children:Object(N.jsx)(W.Image,{style:s.styles.metrolineaImage,src:O})}),Object(N.jsx)(W.Text,{style:s.styles.text1,children:"Nit.830.507.387-3"})]}),Object(N.jsx)(W.View,{style:s.styles.rigth,children:Object(N.jsx)(W.View,{style:s.styles.fo,children:Object(N.jsx)(W.Text,{style:s.styles.text2,children:"20-23.1.1.F0"})})})]}),Object(N.jsxs)(W.View,{style:s.styles.body,children:[Object(N.jsx)(W.View,{style:s.styles.mainTitle,children:Object(N.jsx)(W.Text,{style:s.styles.title,children:"Constancia"})}),Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsx)(W.Text,{style:s.styles.justifyP,children:"La suscrita Profesional Universitario I Talento Humano, de la Sociedad Metrolinea S. A. hace constar que:"})}),Object(N.jsxs)(W.View,{children:[Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsxs)(W.Text,{style:s.styles.boldP,children:[c.name," ",c.first_surname," ",c.second_surname,", identificado con la c\xe9dula de ciudadan\xeda No. ",c.identification," expedida en ",c.expedition_place,", labora en esta empresa desde el d\xeda  ",c.fecha.dayCalendarString," (",c.fecha.calendarDay,") de ",c.fecha.monthString," de ",c.fecha.year,", mediante contrato a t\xe9rmino ",c.contract_name,", en el cargo de ",c.job_name,", de la Sociedad Metrolinea S. A."]})}),Object(N.jsx)(W.View,{style:s.styles.contractData,children:Object(N.jsxs)(W.View,{style:s.styles.flexRow,children:[Object(N.jsx)(W.Text,{style:s.styles.col1,children:"Salario:"}),Object(N.jsxs)(W.Text,{style:s.styles.col2,children:["$",c.salary]})]})})]}),Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsxs)(W.Text,{style:s.styles.justifyP,children:["Se expide a solicitud del interesado, en la ciudad de Bucaramanga a ",c.today.dayCalendarString," (",c.today.calendarDay,") d\xeda(s) del mes de ",c.today.monthString," de ",c.today.year,". Se adhiere y anula el recibo de compra de estampilla Pro Hospitales por valor de tres mil pesos m/cte. ($3.000) y Ordenanza por valor de Trescientos pesos mcte ($300)."]})}),""!==c.observations&&Object(N.jsxs)(W.View,{children:[Object(N.jsxs)(W.View,{style:s.styles.fullWidthText,children:[Object(N.jsx)(W.Text,{style:s.styles.boldC,children:"Observaciones:"}),Object(N.jsx)(W.Text,{style:s.styles.justifyP,children:c.observations})]}),Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsx)(W.Text,{style:s.styles.justifyP,children:"Cordialmente,"})})]})]}),Object(N.jsx)(W.View,{fixed:!0,style:s.styles.footer,children:Object(N.jsxs)(W.View,{style:s.styles.footerContent,children:[Object(N.jsx)(W.View,{style:s.styles.footerTextContainer,children:Object(N.jsx)(W.Text,{style:s.styles.footerText,children:"Autopista Floridablanca N\xb0 86-30, Estaci\xf3n Provenza Occidental, Barrio Diamante II"})}),Object(N.jsx)(W.View,{style:s.styles.footerTextContainer,children:Object(N.jsx)(W.Text,{style:s.styles.footerText,children:"Tel\xe9fono: 6929824 Bucaramanga."})}),Object(N.jsx)(W.View,{style:s.styles.footerTextContainer,children:Object(N.jsx)(W.Link,{src:"www.metrolinea.gov.co",style:s.styles.footerText,children:"www.metrolinea.gov.co"})})]})})]})})};i.a.render(Object(N.jsx)(W.PDFViewer,{children:Object(N.jsx)(e,{})}),document.getElementById("viewer"),Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.default.pdf(Object(N.jsx)(e,{})).toString().then((function(e){var t=e;s.setState({prevPdfObject:t})}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)}))))}))):0===t&&(c=s.contractorRef.current.contractorData,s.setState({previewPDF:!0},(function(){var e=function(){return Object(N.jsx)(W.PDFViewer,{children:Object(N.jsx)(W.Document,{children:Object(N.jsxs)(W.Page,{size:"A4",style:s.styles.page,children:[Object(N.jsxs)(W.View,{fixed:!0,style:s.styles.header,children:[Object(N.jsxs)(W.View,{style:s.styles.left,children:[Object(N.jsx)(W.View,{children:Object(N.jsx)(W.Image,{style:s.styles.metrolineaImage,src:O})}),Object(N.jsx)(W.Text,{style:s.styles.text1,children:"Nit.830.507.387-3"})]}),Object(N.jsx)(W.View,{style:s.styles.rigth,children:Object(N.jsx)(W.View,{style:s.styles.fo,children:Object(N.jsx)(W.Text,{style:s.styles.text2,children:"20-23.1.1.F0"})})})]}),Object(N.jsxs)(W.View,{style:s.styles.body,children:[Object(N.jsx)(W.View,{style:s.styles.mainTitle,children:Object(N.jsx)(W.Text,{style:s.styles.title,children:"Constancia"})}),Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsx)(W.Text,{style:s.styles.justifyP,children:"La suscrita Profesional Universitario I Talento Humano, de la Sociedad Metrolinea S. A. hace constar que:"})}),s.state.contratos.ejecuta.length>=1&&Object(N.jsxs)(W.View,{children:[Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsxs)(W.Text,{style:s.styles.boldP,children:[c.name,", identificado con la c\xe9dula de ciudadan\xeda No. ",c.identification," expedida en Pamplona (N. de Santander), ejecuta con Metrol\xednea S.A., el siguiente CONTRATO DE PRESTACION DE SERVICIOS:"]})}),s.state.contratos.ejecuta.map((function(e,t){W.View,s.styles.contractData,W.View,s.styles.contractTitle,W.Text,s.styles.boldC,e.contract_number,e.year,W.View,s.styles.fullWidthText,W.Text,s.styles.boldC,W.Text,s.styles.boldP,e.object,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.value_string,e.value,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.execution_time,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.supervisor,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.date,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.finish_date,void 0!==e.details&&(W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.details)}))]}),s.state.contratos.suscribio.length>=1&&Object(N.jsxs)(W.View,{children:[Object(N.jsx)(W.View,{style:s.styles.fullWidthText,children:Object(N.jsxs)(W.Text,{style:s.styles.boldP,children:[c.name,", identificado con la c\xe9dula de ciudadan\xeda No. ",c.identification," expedida en Pamplona (N. de Santander), suscribi\xf3 con Metrol\xednea S.A., el siguiente CONTRATO DE PRESTACION DE SERVICIOS:"]})}),s.state.contratos.suscribio.map((function(e,t){W.View,s.styles.contractData,W.View,s.styles.contractTitle,W.Text,s.styles.boldC,e.contract_number,e.year,W.View,s.styles.fullWidthText,W.Text,s.styles.boldC,e.object,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.value_string,e.value,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.execution_time,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.supervisor,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.date,W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.finish_date,void 0!==e.details&&(W.View,s.styles.flexRow,W.Text,s.styles.col1,W.Text,s.styles.col2,e.details)}))]})]}),Object(N.jsx)(W.View,{fixed:!0,style:s.styles.footer,children:Object(N.jsxs)(W.View,{style:s.styles.footerContent,children:[Object(N.jsx)(W.View,{style:s.styles.footerTextContainer,children:Object(N.jsx)(W.Text,{style:s.styles.footerText,children:"Autopista Floridablanca N\xb0 86-30, Estaci\xf3n Provenza Occidental, Barrio Diamante II"})}),Object(N.jsx)(W.View,{style:s.styles.footerTextContainer,children:Object(N.jsx)(W.Text,{style:s.styles.footerText,children:"Tel\xe9fono: 6929824 Bucaramanga."})}),Object(N.jsx)(W.View,{style:s.styles.footerTextContainer,children:Object(N.jsx)(W.Link,{src:"www.metrolinea.gov.co",style:s.styles.footerText,children:"www.metrolinea.gov.co"})})]})})]})})})};i.a.render(Object(N.jsx)(W.PDFViewer,{children:Object(N.jsx)(e,{})}),document.getElementById("viewer"),Object(h.a)(b.a.mark((function t(){return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,W.default.pdf(Object(N.jsx)(e,{})).toString().then((function(e){var t=e;s.setState({prevPdfObject:t})}));case 2:t.sent;case 3:case"end":return t.stop()}}),t)}))))})));case 2:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),s.getUser=function(e){v.a.get(s.url+"get-admin/"+e).then((function(e){s.setState({user:e.data.data})}))},s.veryfyUserSesion=function(){var e=localStorage.getItem("userSesion");v.a.get(s.url+"auth-user",{headers:{"x-acces-token":e}}).then((function(e){"Ok"!==e.data.status?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar</div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){s.props.history.push("/login")})):(s.getUser(e.data.data.id),s.connectSocket())}),(function(e){y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Est\xe1s ingresando como usuario externo, podr\xe1s visualizar m\xe1s no editar</div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){}))}))},s.backToNews=function(){s.props.history.push("/news")},s.connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.setCheckedSocket=function(e){s.socket.emit("set-checked-news",e.data.data)},s.setUncheckedSocket=function(e){s.socket.emit("set-unchecked-news",e.data.data)},s.setCheckedForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(s.url+"get-checked-forms").then((function(e){s.setCheckedSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),s.setForms=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.a.get(s.url+"get-unchecked-forms").then((function(e){s.setUncheckedSocket(e)}));case 2:case"end":return e.stop()}}),e)}))),s.updateDataState=function(e){s.newStateRef=e,1===s.newStateRef?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">\xbfEst\xe1s seguro?</div></div>',showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"S\xed, certificar",cancelButtonText:"Cancelar",showCloseButton:!0}).then(function(){var e=Object(h.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.isConfirmed&&(y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center">Se ha enviado la certificaci\xf3n</div></div>',denyButtonColor:"#0A9B91",confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}),s.updateForm(),s.state.prevPdfState?(s.mailForm.email=s.state.form.email,s.mailForm.name=s.state.form.name,s.mailForm.mailState=1,s.mailForm.data=s.state.prevPdfObject,v.a.post(s.url+"mail",s.mailForm).then((function(e){s.backToNews()}))):s.prevPdfObjectFunc().then((function(e){s.mailForm.email=s.state.form.email,s.mailForm.name=s.state.form.name,s.mailForm.mailState=1,s.mailForm.data=s.state.prevPdfObject,v.a.post(s.url+"mail",s.mailForm).then((function(e){s.backToNews()}))})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()):y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-lit"><div class="list-label pop absolute-center">Especifica el motivo del rechazo de la solicitud</div></div><textarea id=input-detail></textarea>',denyButtonColor:"#0A9B91",confirmButtonText:"Enviar rechazo",allowOutsideClick:!1,showCloseButton:!0}).then((function(e){if(e.isConfirmed){var t=document.getElementById("input-detail").value;s.updateForm(t),s.mailForm.email=s.state.form.email,s.mailForm.name=s.state.form.name,s.mailForm.pdf={},s.mailForm.mailState=0,s.mailForm.denied=s.state.form.observations,v.a.post(s.url+"mail",s.mailForm).then((function(e){s.backToNews()}))}}))},s.updateForm=function(e){var t=s.state.form;t.state=s.newStateRef,t.checked=1,t.observations=e,t.admin_id=s.state.user.id,v.a.put(s.url+"/update-form",t).then((function(e){s.setCheckedForms(),s.setForms(),s.backToNews()}))},s.getPdf=function(){v()({method:"POST",data:s.state.form,url:s.url+"/download-stamp",responseType:"blob"}).then((function(e){var t=new Blob([e.data],{type:"application/pdf"}),a=URL.createObjectURL(t);window.open(a,"theFrame")})).catch((function(e){console.log(e)}))},s.getFormById=function(e){v.a.get(s.url+"get-form/"+e).then((function(e){s.setState({form:e.data.data[0],status:"success"})}))},s.addContract=function(e,t){s.passData.current.addContract(e,t),s.setState({contratos:s.passData.current.state.contratos})},s.removeContract=function(e,t){s.contractorRef.current.removeContract(e),s.setState({contratos:s.passData.current.state.contratos})},W.Font.register({family:"Roboto",src:U}),W.Font.register({family:"Roboto-Bold",src:Y}),s.date=null,s.passData=c.a.createRef(),s.passDataPayroll=c.a.createRef(),s.payRollRef=c.a.createRef(),s.contractorRef=c.a.createRef(),s.userData=c.a.createRef(),s.mailForm={},s.paramId=s.props.match.params.id,s.url=x.url,s.ws=x.ws,s.socket=null,s.styles=W.StyleSheet.create({page:{backgroundColor:"white",padding:"20px 25px 80px 25px",width:"100%",height:"100%",position:"relative"},section:{margin:10,padding:10,flexGrow:1},metrolineaImage:{width:"120px",height:"100px",backgroundSize:"100%"},header:{display:"flex",flexDirection:"row",height:"80px",borderBottom:"1px solid yellow",marginBottom:"10px"},body:{height:"auto",width:"100%",padding:"0 50px"},footer:{height:"100%",width:"100%",position:"absolute",top:"80px",left:"25px"},footerContent:{position:"absolute",height:"60px",width:"100%",bottom:"0",left:"0",borderTop:"1px solid yellow",paddingTop:"10px"},left:{margin:10,padding:10,flexGrow:1},rigth:{margin:10,padding:10,flexGrow:1,flexDirection:"row",justifyContent:"flex-end",alignItems:"center"},text1:{fontSize:"10px"},text2:{fontSize:"13px",fontFamily:"Roboto-Bold"},fo:{textAlign:"right",fontSize:"14px",width:"80px",height:"20px"},title:{textAlign:"center",padding:"10px 0",textTransform:"uppercase",fontFamily:"Roboto-Bold"},justifyP:{textAlign:"justify",fontSize:"14px",marginBottom:"10px"},boldP:{display:"inline-block",fontFamily:"Roboto",fontWeight:"bold",fontSize:"14px",float:"left",textAlign:"justify"},flexRow:{width:"100%",flexDirection:"row",fontSize:"14px",marginBottom:"5px",marginTop:"5px"},col1:{width:"40%",fontSize:"13px",fontFamily:"Roboto-Bold"},col2:{width:"60%",textAlign:"justify"},fullWidthText:{marginBottom:"10px",marginTop:"10px"},contractTitle:{marginTop:"10px"},footerText:{textAlign:"center",fontSize:"10px"},footerTextContainer:{height:"10px",flexGrow:"1"},contractData:{marginBottom:"10px"},boldC:{display:"inline-block",fontFamily:"Roboto-Bold",fontSize:"14px",textAlign:"justify"}}),s.state={form:{},status:null,user:null,showPdf:!1,prevPdfState:!1,previewPDF:!1,prevPdfObject:null,removedContract:{},contratos:{ejecuta:[],suscribio:[]}},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.getFormById(this.paramId),this.veryfyUserSesion()}},{key:"render",value:function(){var e=this;if(null!==this.state.user){if(void 0!==this.state.form.id&&null!==this.state.form.id){var t=null,a=!0,s=1===this.state.form.request_type;return 1===this.state.form.state?t=!0:0===this.state.form.state?t=!1:a=!1,Object(N.jsx)(c.a.Fragment,{children:Object(N.jsxs)("div",{className:a?"item-detail-container rejected":"item-detail-container",children:[Object(N.jsxs)("div",{className:"row container-top no-gutters justify-content-center",children:[Object(N.jsx)("div",{className:"item-detail col-lg-6",children:Object(N.jsxs)("div",{className:"row content-user-data no-gutters",children:[Object(N.jsxs)("div",{className:"col-lg-12 h-100 align-items-center",children:[Object(N.jsx)("div",{className:"row h-10 align-items-center  justify-content-center",children:Object(N.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del formulario"})}),Object(N.jsxs)("div",{className:"row h-40 align-items-center  justify-content-center",children:[Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Nombre"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.name})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Correo"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.email})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"identification"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.identification})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"telephone"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.telephone})})]})]}),Object(N.jsxs)("div",{className:"row h-50 align-items-center  justify-content-center",children:[Object(N.jsxs)("div",{className:"item-container area col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Contenido"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.content})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"PDF"}),Object(N.jsx)("div",{className:"btn-pdf",onClick:function(){return e.setState({showPdf:!0})},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"ver estampilla"})})]})]})]}),Object(N.jsxs)(B.a,{show:this.state.showPdf,onShow:this.getPdf,onHide:function(){return e.setState({showPdf:!1})},children:[Object(N.jsx)(B.a.Header,{closeButton:!0,children:Object(N.jsx)(B.a.Title,{children:"Estampilla"})}),Object(N.jsx)(B.a.Body,{children:Object(N.jsx)("div",{className:"pdf-viewer",children:Object(N.jsx)("iframe",{name:"theFrame"})})})]}),Object(N.jsxs)(B.a,{show:this.state.previewPDF,onShow:this.prevPDF,onHide:function(){return e.setState({previewPDF:!1})},children:[Object(N.jsx)(B.a.Header,{closeButton:!0,children:Object(N.jsx)(B.a.Title,{children:"Visualizador del PDF"})}),Object(N.jsx)(B.a.Body,{children:Object(N.jsx)("div",{className:"pdf-viewer",children:Object(N.jsx)("div",{id:"viewer"})})})]})]})}),Object(N.jsx)("div",{className:"user-data-container col-lg-6",children:s?Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"content-payroll-data",children:Object(N.jsx)(L,{payrollId:this.state.form.identification,ref:this.userData})})}):Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"content-contractor-data",children:Object(N.jsx)(M,{contractorId:this.state.form.identification,pdfData:this.addContract,addedContract:this.state.addedContract,ref:this.contractorRef})})})})]}),this.state.form.checked?Object(N.jsxs)("div",{className:"row reject-observations",children:[Object(N.jsx)("div",{className:"observation-title-container col-lg-12 h-20",children:Object(N.jsx)("div",{className:"absolute-center bg-title-label",children:"Motivo de rechazo"})}),Object(N.jsx)("div",{className:"observation col-lg-12 h-80",children:Object(N.jsx)("div",{className:"observation-data",children:Object(N.jsx)("div",{className:"input-text",children:e.state.form.observations})})})]}):s?Object(N.jsx)("div",{className:"row bg-title",children:Object(N.jsx)("div",{className:"absolute-center bg-title-label",children:"A\xf1adir Observaciones"})}):Object(N.jsx)("div",{className:"row bg-title",children:Object(N.jsx)("div",{className:"absolute-center bg-title-label",children:"A\xf1adir contratos"})}),Object(N.jsxs)("div",{className:"row container-bottom no-gutters justify-content-center",children:[!a&&s&&Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"col-lg-12",children:Object(N.jsx)("div",{className:"content-create-pdf h-90",children:Object(N.jsx)(z,{contractData:this.state.addedContract,ref:this.passDataPayroll,prev:this.prevPDF})})})}),!a&&!s&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("div",{className:"col-lg-6",children:Object(N.jsx)("div",{className:"content-create-pdf h-90",children:Object(N.jsx)(_,{contractData:this.state.addedContract,ref:this.passData,remove:this.removeContract,prev:this.prevPDF})})}),Object(N.jsx)("div",{className:"col-lg-6"})]})]}),Object(N.jsxs)("div",{className:"row options-buttons align-items-center justify-content-center",children:[t&&a&&Object(N.jsx)("div",{className:"btn-aprove disabled active col-lg-auto",children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Certificado"})}),!t&&a&&Object(N.jsx)("div",{className:"btn-deny disabled active col-lg-auto",children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Rechazado"})}),!a&&Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("div",{className:"btn-aprove col-lg-auto",onClick:function(){e.updateDataState(1)},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Certificar"})}),Object(N.jsx)("div",{className:"col-lg-2"}),Object(N.jsx)("div",{className:"btn-deny col-lg-auto",onClick:function(){e.updateDataState(0)},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Rechazar"})})]})]}),Object(N.jsx)("div",{className:"back-container",children:Object(N.jsx)("div",{className:"btn-back",onClick:this.backToNews,children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Volver"})})})]})})}return void 0===this.state.form&&"success"===this.state.status?Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("h1",{children:" no hay Formularios con este id"})}):Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("h1",{children:" Cargando espera mientras carga"})})}if(void 0!==this.state.form.id&&null!==this.state.form.id){t=null,a=!0,s=1===this.state.form.request_type;return 1===this.state.form.state?t=!0:0===this.state.form.state?t=!1:a=!1,Object(N.jsx)(c.a.Fragment,{children:Object(N.jsxs)("div",{className:a?"item-detail-container rejected":"item-detail-container",children:[Object(N.jsxs)("div",{className:"row external container-top no-gutters justify-content-center",children:[Object(N.jsx)("div",{className:"item-detail col-lg-6",children:Object(N.jsx)("div",{className:"row content-user-data no-gutters",children:Object(N.jsxs)("div",{className:"col-lg-12 h-100 align-items-center",children:[Object(N.jsx)("div",{className:"row h-10 align-items-center  justify-content-center",children:Object(N.jsx)("div",{className:"title-label-form",children:"Informaci\xf3n del formulario"})}),Object(N.jsxs)("div",{className:"row h-40 align-items-center  justify-content-center",children:[Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Nombre"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.name})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Correo"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.email})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"identification"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.identification})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"telephone"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.telephone})})]})]}),Object(N.jsxs)("div",{className:"row h-50 align-items-center  justify-content-center",children:[Object(N.jsxs)("div",{className:"item-container area col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"Contenido"}),Object(N.jsx)("div",{className:"item-data",children:Object(N.jsx)("div",{className:"input-text absolute-center",children:this.state.form.content})})]}),Object(N.jsxs)("div",{className:"item-container col-lg-12",children:[Object(N.jsx)("div",{className:"item-label",children:"PDF"}),Object(N.jsx)("div",{className:"btn-pdf",onClick:function(){return e.setState({showPdf:!0})},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"ver estampilla"})})]})]})]})})}),Object(N.jsx)("div",{className:"user-data-container col-lg-6",children:s?Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"content-payroll-data",children:Object(N.jsx)(L,{payrollId:this.state.form.identification,ref:this.userData})})}):Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"content-contractor-data",children:Object(N.jsx)(M,{contractorId:this.state.form.identification,pdfData:this.addContract,addedContract:this.state.addedContract,ref:this.contractorRef})})})})]}),Object(N.jsxs)("div",{className:"row options-buttons align-items-center justify-content-center",children:[t&&a&&Object(N.jsx)("div",{className:"btn-aprove disabled active col-lg-auto",children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Certificado"})}),!t&&a&&Object(N.jsx)("div",{className:"btn-deny disabled active col-lg-auto",children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Rechazado"})}),!a&&Object(N.jsx)("div",{className:"btn-aprove disabled active col-lg-auto",children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"En revision"})})]})]})})}return void 0===this.state.form&&"success"===this.state.status?Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("h1",{children:" no hay Formularios con este id"})}):Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("h1",{children:" Cargando espera mientras carga"})})}}]),a}(s.Component),J=(a(689),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.setSocket=function(e){},s.redirect=function(e){1===e?s.props.history.push("/login"):s.props.history.push("/form")},s.url=x.url,s.ws=x.ws,s.socket=null,s.state={user:{name:"",email:"",identification:"",telephone:""},stamp:null,status:null},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){var e=this;return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"container-home row h-100 align-items-center justify-content-center",children:Object(N.jsxs)("div",{className:"content-container-home",children:[Object(N.jsx)("div",{className:"row h-25 no-gutters align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"form-logo",children:Object(N.jsx)("img",{className:"login-logo",src:O,alt:"imagen de metrolinea"})})}),Object(N.jsx)("div",{className:"row h-15 no-gutters align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"col-lg-12 align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"home-title-color absolute-center",children:"Bienvenido al Asistente"})})}),Object(N.jsx)("div",{className:"row h-15 no-gutters align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"col-lg-12 align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"home-description absolute-center",children:"Accede para solicitar carta laboral o inicia sesi\xf3n para comenzar la administracion de cartas laborales"})})}),Object(N.jsx)("div",{className:"row h-20 no-gutters align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"content admin",children:Object(N.jsx)("div",{className:"btn-login",onClick:function(){e.redirect(1)},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Inicia Sesi\xf3n"})})})}),Object(N.jsx)("div",{className:"row h-20 no-gutters align-items-center justify-content-center",children:Object(N.jsx)("div",{className:"content external",children:Object(N.jsx)("div",{className:"btn-carta",onClick:function(){e.redirect(0)},children:Object(N.jsx)("div",{className:"btn-label absolute-center",children:"Solicitar una carta laboral"})})})})]})})})}}]),a}(s.Component)),G=(a(690),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).userNameRef=c.a.createRef(),s.userPassRef=c.a.createRef(),s.connectSocket=function(){s.socket=Object(p.io)(s.ws)},s.setSocket=function(e){s.socket.emit("set-unchecked-news",e.data.data),s.socket.on("get-unchecked-news",(function(e){s.setState({forms:e,status:"success"})}))},s.isLogged=function(){},s.login=function(){v.a.get(s.url+"get-unchecked-forms").then((function(e){s.setSocket(e)}))},s.saveForm=function(){var e=Object(h.a)(b.a.mark((function e(t){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),a={name:s.userNameRef.current.value,pass:s.userPassRef.current.value},s.setState({user:a}),e.next=5,v.a.post(s.url+"login",a).then((function(e){e?y.a.fire({title:'<div class="big-square"></div><div class="little-square"></div><div class="bg-title-pop"><div class="list-label pop absolute-center"><p>Bienvenido</p></div></div>',confirmButtonText:"Seguir",allowOutsideClick:!1,showCloseButton:!0}).then((function(){localStorage.setItem("userSesion",e.data.token),s.props.history.push("/news")})):s.setState({status:"failed"})}),(function(e){y.a.fire({title:"Usuario o contrase\xf1a incorrectos",icon:"error"})}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s.url=x.url,s.ws=x.ws,s.socket=null,s.state={user:{name:"",pass:""},status:null},s}return Object(l.a)(a,[{key:"componentWillMount",value:function(){this.connectSocket()}},{key:"render",value:function(){return Object(N.jsx)(c.a.Fragment,{children:Object(N.jsx)("div",{className:"row h-100 content-login no-gutters justify-content-center align-items-center",children:Object(N.jsx)("div",{className:"form-content-container row justify-content-center align-items-center",children:Object(N.jsxs)("form",{className:"form",onSubmit:this.saveForm,children:[Object(N.jsx)("div",{className:"form-group row h-30 justify-content-center align-items-center",children:Object(N.jsx)("div",{className:"form-logo",children:Object(N.jsx)("img",{className:"login-logo",src:O,alt:"imagen de metrolinea"})})}),Object(N.jsxs)("div",{className:"form-group  row h-20 justify-content-center align-items-center",children:[Object(N.jsx)("div",{className:"form-label col-lg-12",htmlFor:"nombre",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Nombre de usuario"})}),Object(N.jsx)("input",{className:"form-input col-lg-12",type:"text",name:"nombre",ref:this.userNameRef})]}),Object(N.jsxs)("div",{className:"form-group  row h-20 justify-content-center align-items-center",children:[Object(N.jsx)("div",{className:"form-label col-lg-12",htmlFor:"pass",children:Object(N.jsx)("div",{className:"text absolute-center",children:"Contrase\xf1a"})}),Object(N.jsx)("input",{className:"form-input col-lg-12",type:"password",name:"pass",ref:this.userPassRef})]}),Object(N.jsx)("div",{className:"row h-30 justify-content-center align-items-center",children:Object(N.jsx)("input",{type:"submit",value:"Entrar"})})]})})})})}}]),a}(s.Component)),Q=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(N.jsx)(u.a,{children:Object(N.jsxs)(j.c,{children:[Object(N.jsx)(j.a,{exact:!0,path:"/",component:J}),Object(N.jsx)(j.a,{exact:!0,path:"/form",component:w}),Object(N.jsx)(j.a,{exact:!0,path:"/login",component:G}),Object(N.jsx)(j.a,{exact:!0,path:"/news",component:D}),Object(N.jsx)(j.a,{path:"/new-details/:id",component:H}),Object(N.jsx)(j.a,{render:function(){return Object(N.jsxs)(c.a.Fragment,{children:[Object(N.jsx)("h1",{children:"Pagina no encontrada"}),Object(N.jsx)(u.b,{to:"/",children:"Inicio"})]})}})]})})}}]),a}(s.Component);a(694);var $=function(){return Object(N.jsx)("div",{className:"App",children:Object(N.jsx)("section",{className:"components",children:Object(N.jsx)(Q,{})})})},X=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,716)).then((function(t){var a=t.getCLS,s=t.getFID,c=t.getFCP,n=t.getLCP,i=t.getTTFB;a(e),s(e),c(e),n(e),i(e)}))};i.a.render(Object(N.jsxs)(c.a.StrictMode,{children:[Object(N.jsx)($,{}),Object(N.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"}),Object(N.jsx)("link",{rel:"stylesheet",href:"https://fonts.googleapis.com/icon?family=Material+Icons"})]}),document.getElementById("root")),X()}},[[695,1,2]]]);
//# sourceMappingURL=main.69793d35.chunk.js.map